"use strict";var ctx,load_timer,search_timer="",randomScalingFactor=function(){return Math.round(100*Math.random())},lineChartData="",form_analytics_chart="",chart_options={responsive:!0,legend:{display:!1},tooltips:{intersect:!1}};jQuery("div.updated").remove(),jQuery(".update-nag").remove(),jQuery("div.error").remove();var run_time=0;function load_nf_dashboard(){"0"==jQuery("#nf_dashboard_load").text()?(load_timer=setTimeout(function(){load_nf_dashboard()},500),.5==(run_time+=.5)&&jQuery(".loading_current").text("Initialising styles"),1.5==run_time&&jQuery(".loading_current").text("Initialising javascript"),4==run_time&&jQuery(".loading_current").text("Loading chart data"),5==run_time&&jQuery(".loading_current").text("Loading saved submissions"),6==run_time&&6<run_time&&jQuery(".loading_current").text("Loading saved Forms")):(clearTimeout(load_timer),jQuery(".loading_current").text("Finalising"),setTimeout(function(){jQuery(".nf_dashboard_loader").fadeOut(),jQuery(".nex_forms_admin_page_wrapper").fadeIn("slow")},1600))}function nf_print_chart(e,t){var a={action:"nf_print_chart",ajax:1,form_id:t||0,year_selected:jQuery('select[name="stats_per_year"]').val(),month_selected:jQuery('select[name="stats_per_month"]').val(),chart_type:e};jQuery(".chart-container").addClass("faded"),jQuery.post(ajaxurl,a,function(t){jQuery(".chart-container .data_set").html(t),form_analytics_chart.destroy(),jQuery(".chart-container").removeClass("faded"),form_analytics_chart=new Chart(ctx,{type:e,data:lineChartData,options:chart_options})})}function nf_get_records(e,t,a,n){var s={action:"get_table_records",page:e,do_ajax:1,additional_params:t.find('input[name="additional_params"]').val(),header_params:t.find('input[name="header_params"]').val(),search_params:t.find('input[name="search_params"]').val(),table:t.find('input[name="database_table"]').val(),search_term:t.closest(".database_table").find('input[name="table_search_term"]').val(),entry_report_id:a||t.closest(".database_table").find('select[name="entry_report_id"]').val(),form_id:n||t.closest(".database_table").find('select[name="form_id"]').val(),field_selection:t.find('input[name="field_selection"]').val()};t.closest(".database_table").find(".saved_records_container").addClass("faded"),jQuery.post(ajaxurl,s,function(a){t.closest(".database_table").find("tbody.saved_records_container").html(a),t.closest(".database_table").find("tbody.saved_records_contianer").html('<tr><td colspan="100"><div class="alert alert-danger">Sorry, you need to activate this plugin to view entry reports. Go to global settings above and follow activation procedure.</strong></td><tr>'),t.closest(".database_table").find("span.current-page").html(e+1),jQuery("#nf_dashboard_load").text("1"),t.closest(".database_table").find(".saved_records_container").removeClass("faded"),t.closest(".database_table").find(".database-table-loader").addClass("hidden");var n=t.closest(".database_table").find(".total_table_records").text(),s=Math.floor(parseFloat(n)/10+1),r="";r+='<span class="displaying-num"><span class="entry-count">'+parseInt(n)+"</span> items </span>",1<s&&(r+='<span class="pagination-links">',r+='<a class="first-page iz-first-page btn waves-effect waves-light"><span class="fa fa-angle-double-left"></span></a>',r+='<a title="Go to the next page" class="iz-prev-page btn waves-effect waves-light prev-page"><span class="fa fa-angle-left"></span></a>&nbsp;',r+='<span class="paging-input"> ',r+='<span class="current-page">'+(e+1)+'</span> of <span class="total-pages">'+s+"</span>&nbsp;</span>",r+='<a title="Go to the next page" class="iz-next-page btn waves-effect waves-light next-page"><span class="fa fa-angle-right"></span></a>',r+='<a title="Go to the last page" class="iz-last-page btn waves-effect waves-light last-page"><span class="fa fa-angle-double-right"></span></a></span>'),t.closest(".database_table").find(".paging").html(r),jQuery("select.material_select").material_select(),jQuery(".materialboxed").materialbox(),jQuery(".dropdown-button").dropdown({belowOrigin:!0})})}function hideSelectedColumns(e){var t=e.val(),a=jQuery(".report_table_container table");"checked"!=e.attr("checked")?a.find("tr").each(function(){jQuery(this).hasClass("reporting_controls")||(jQuery(this).children("td:eq("+t+")").hide(),jQuery(this).children("th:eq("+t+")").hide())}):a.find("tr").each(function(){jQuery(this).hasClass("reporting_controls")||(jQuery(this).children("td:eq("+t+")").show(),jQuery(this).children("th:eq("+t+")").show())})}function nf_build_report_table(e,t,a){jQuery(".report_table_container").removeClass("hidden"),jQuery(".report_table_container").find(".database-table-loader").removeClass("hidden"),jQuery(".report_table_container").find(".dashboard-box-content").addClass("faded");var n={action:"submission_report",form_Id:e,additional_params:t,field_selection:""!=jQuery('select[name="showhide_fields[]"]').val()?jQuery('select[name="showhide_fields[]"]').val():"*"};jQuery.post(ajaxurl,n,function(e){jQuery(".report_table").html(e),nf_get_records(0,jQuery(".report_table_container .database_table").find(".paging_wrapper")),jQuery(".report_table_container .table_title .btn-floating").trigger("click")})}function strstr(e,t,a){return-1!=(e+="").indexOf(t)}!function(e){e(document).ready(function(){"yes"==jQuery("#demo_site").text()&&setTimeout(function(){e("a.create_new_form").trigger("click")},200),e(document).on("click","li.toplevel_page_nex-forms-dashboard ul li:nth-child(8)",function(t){t.preventDefault(),e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e(this).addClass("current"),e(".tabs_nf a.add_ons_tab").trigger("click")}),e(document).on("click",".tabs_nf a.add_ons_tab",function(){e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e("li.toplevel_page_nex-forms-dashboard ul li:nth-child(8)").addClass("current")}),e(document).on("click","li.toplevel_page_nex-forms-dashboard ul li:nth-child(7)",function(t){t.preventDefault(),e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e(this).addClass("current"),e(".tabs_nf a.global_settings_tab").trigger("click")}),e(document).on("click",".tabs_nf a.global_settings_tab",function(){e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e("li.toplevel_page_nex-forms-dashboard ul li:nth-child(7)").addClass("current")}),e(document).on("click","li.toplevel_page_nex-forms-dashboard ul li:nth-child(6)",function(t){t.preventDefault(),e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e(this).addClass("current"),e(".tabs_nf a.file_uploads_tab").trigger("click")}),e(document).on("click",".tabs_nf a.file_uploads_tab",function(){e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e("li.toplevel_page_nex-forms-dashboard ul li:nth-child(6)").addClass("current")}),e(document).on("click","li.toplevel_page_nex-forms-dashboard ul li:nth-child(5)",function(t){t.preventDefault(),e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e(this).addClass("current"),e(".tabs_nf a.reporting_tab").trigger("click")}),e(document).on("click",".tabs_nf a.reporting_tab",function(){e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e("li.toplevel_page_nex-forms-dashboard ul li:nth-child(5)").addClass("current")}),e(document).on("click","li.toplevel_page_nex-forms-dashboard ul li:nth-child(4)",function(t){t.preventDefault(),e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e(this).addClass("current"),e(".tabs_nf a.submissions_tab").trigger("click")}),e(document).on("click",".tabs_nf a.submissions_tab",function(){e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e("li.toplevel_page_nex-forms-dashboard ul li:nth-child(4)").addClass("current")}),e(document).on("click","li.toplevel_page_nex-forms-dashboard ul li:nth-child(3)",function(t){t.preventDefault(),e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e(this).addClass("current"),e(".tabs_nf a.forms_tab").trigger("click")}),e(document).on("click",".tabs_nf a.forms_tab",function(){e("li.toplevel_page_nex-forms-dashboard .current").removeClass("current"),e("li.toplevel_page_nex-forms-dashboard ul li:nth-child(3)").addClass("current")}),setTimeout(function(){e(".tabs_nf li.tab a.active").removeClass("active").trigger("click")},500),e(document).on("click","a.global_settings",function(){e("#global_settings .tabs_nf li.tab a.active").removeClass("active").trigger("click")}),ctx=document.getElementById("chart_canvas").getContext("2d"),form_analytics_chart=new Chart(ctx,{type:"line",data:lineChartData,options:chart_options}),jQuery('input[name="current_page"]').val("0"),jQuery('input[name="table_search_term"]').val(""),e(".carousel").carousel(),e(".materialbox").materialbox(),e(".button-collapse").sideNav({menuWidth:300,edge:"right",closeOnClick:!0,draggable:!0}),e(".modal").modal({dismissible:!0,opacity:.8,inDuration:300,outDuration:200,startingTop:"4%",endingTop:"10%",ready:function(e,t){},complete:function(){}}),e("select.material_select").material_select();var t="",a="";jQuery("head link").each(function(){a=jQuery(this),t=jQuery(this).attr("id"),jQuery(".unwanted_css_array .unwanted_css").each(function(){t&&t.trim()==jQuery(this).text()&&a.attr("href","")})}),e(document).on("change",'select[name="entry_report_id"]',function(){nf_get_records(0,e(this).closest(".database_table").find(".paging_wrapper"),e(this).val())}),e(document).on("change",'select[name="form_id"]',function(){nf_get_records(0,e(this).closest(".database_table").find(".paging_wrapper"),"",e(this).val())}),e(document).on("click","a.iz-next-page",function(){var t=parseInt(e(this).closest(".paging_wrapper").find('input[name="current_page"]').val());if(t+1>=parseInt(e(this).closest(".paging_wrapper").find("span.total-pages").html()))return!1;t+=1,e(this).closest(".paging_wrapper").find('input[name="current_page"]').val(t),nf_get_records(t,e(this).closest(".paging_wrapper"))}),e(document).on("blur","input.search_box",function(){""==e(this).val()&&e(this).parent().find(".do_search").trigger("click")}),e(document).on("keyup","input.search_box",function(){clearTimeout(search_timer);var t=e(this);t.val(),search_timer=setTimeout(function(){nf_get_records(0,t.closest(".dashboard-box").find(".paging_wrapper"))},400)}),e(document).on("click",".do_search",function(){e(this).closest(".search_box").hasClass("open")?e(this).closest(".search_box").removeClass("open"):e(this).closest(".search_box").addClass("open")}),e(document).on("click","a.iz-prev-page",function(){var t=parseInt(e(this).closest(".paging_wrapper").find('input[name="current_page"]').val());if(t<=0)return!1;--t,e(this).closest(".paging_wrapper").find('input[name="current_page"]').val(t),nf_get_records(t,e(this).closest(".paging_wrapper"))}),e(document).on("click","a.iz-first-page",function(){e(this).closest(".paging_wrapper").find('input[name="current_page"]').val(0),nf_get_records(0,e(this).closest(".paging_wrapper"))}),e(document).on("click","a.iz-last-page",function(){var t=parseInt(e(this).closest(".paging_wrapper").find("span.total-pages").html())-1;e(this).closest(".paging_wrapper").find('input[name="current_page"]').val(t),nf_get_records(t,e(this).closest(".paging_wrapper"))}),e(document).on("click","th a span.sortable-column",function(){jQuery('input[name="orderby"]').val(jQuery(this).attr("data-col-name")),jQuery("th a").removeClass("asc"),jQuery("th a").removeClass("desc"),load_form_entries(jQuery("#form_update_id").text()),"asc"==jQuery(this).attr("data-col-order")?(jQuery("th.column-"+jQuery(this).attr("data-col-name")+" a").removeClass("asc"),jQuery("th.column-"+jQuery(this).attr("data-col-name")+" a").addClass("desc"),jQuery("th.column-"+jQuery(this).attr("data-col-name")+" a span.sortable-column").attr("data-col-order","desc")):(jQuery("th.column-"+jQuery(this).attr("data-col-name")+" a").removeClass("desc"),jQuery("th.column-"+jQuery(this).attr("data-col-name")+" a").addClass("asc"),jQuery("th.column-"+jQuery(this).attr("data-col-name")+" a span.sortable-column").attr("data-col-order","asc")),jQuery('input[name="order"]').val(jQuery(this).attr("data-col-order"))}),jQuery('form[name="save_form_entry"]').ajaxForm({beforeSubmit:function(e,t,a){},success:function(t,a,n,s){e(".wap_nex_forms_entries tr#"+t).trigger("click"),Materialize.toast('<span class="fa fa-check"></span>',2e3,"toast-success"),e(".form_entry_view .dashboard-box-header .btn").show(),e("button.save_button").hide()},error:function(e,t,a){console.log(a)}}),e(document).on("click",".cancel_save_form_entry",function(){e(".form_record.active").trigger("click")}),e(document).on("click",".print_form_entry",function(){var t,a;-1<navigator.userAgent.toLowerCase().indexOf("chrome")?((t=e('form[name="save_form_entry"]').clone()).find('input[type="submit"]').remove(),t.find("table").removeClass("highlight"),t.find(".additional_entry_details").removeClass("hidden"),t.find("table thead").remove(),(a=window.open("","_blank","width=834,height=900,scrollbars=no,menubar=no,toolbar=no,location=no,status=no,titlebar=no")).focus(),a.document.write('<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">'),a.document.write('<script src="https://use.fontawesome.com/8e6615244b.js"><\/script>'),a.document.write('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">'),a.document.write('<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">'),a.document.write('<link rel="stylesheet" type="text/css" href="'+e("#plugins_url").text()+'admin/css/min/print.css"/>'),a.document.write(t.html()),a.document.close(),a.print()):((t=e('form[name="save_form_entry"]').clone()).find('input[type="submit"]').remove(),t.find("table").removeClass("highlight"),t.find(".additional_entry_details").removeClass("hidden"),t.find("table thead").remove(),(a=window.open("","","left=0,top=0,width=834,height=900,toolbar=0,scrollbars=0,status=0")).document.write('<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">'),a.document.write('<script src="https://use.fontawesome.com/8e6615244b.js"><\/script>'),a.document.write('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">'),a.document.write('<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">'),a.document.write('<link rel="stylesheet" type="text/css" href="'+e("#plugins_url").text()+'nf-admin/css/print.css"/>'),a.document.write(t.html()),a.document.close(),a.focus(),a.print(),a.close())}),e(document).on("click",".database_table tbody tr",function(){var t=e(this);t.hasClass("active")?t.removeClass("active"):(t.closest(".database_table").find("tr").removeClass("active"),t.addClass("active"))}),e(document).on("click",".report_table_selection .wap_nex_forms.database_table tbody tr",function(){e(".report-loader").removeClass("hidden"),jQuery('select[name="showhide_fields[]"] option').prop("selected",!1),nf_build_report_table(jQuery(this).attr("id"),"",!0)}),e(document).on("click",".run_query",function(){var t=[];0<e(".clause_container .new_clause").length&&e(".clause_container .new_clause").each(function(){t.push({column:e(this).find('select[name="column"]').val(),operator:e(this).find('select[name="operator"]').val(),value:e(this).find('input[name="column_value"]').val()})}),nf_build_report_table(jQuery(this).attr("id"),t)}),e(document).on("click",".report_table_container .table_title .btn-floating",function(){e(".report_table_container .reporting_controls").hasClass("is_active")?(e(".report_table_container .reporting_controls").removeClass("is_active"),e(".report_table_container .header_text").removeClass("white_txt"),e(this).removeClass("open")):(e(".report_table_container .reporting_controls").addClass("is_active"),e(".report_table_container .header_text").addClass("white_txt"),e(this).addClass("open"))}),e(document).on("click",".add_new_where_clause",function(){var t=e(".clause_replicator").clone();t.removeClass("hidden").removeClass("clause_replicator").addClass("new_clause"),e(".clause_container").append(t)}),e(document).on("click",".remove_where_clause",function(){e(this).closest(".new_clause").remove()}),e(document).on("click","a.print_to_pdf",function(){var t={action:"nf_print_to_pdf",form_entry_Id:e(this).attr("id"),save:1,ajax:1};jQuery.post(ajaxurl,t,function(t){"not installed"==t?e("#pfd_creator_not_installed").modal("open"):window.open(t,"_blank")})}),e(document).on("click","button.print_report_to_pdf",function(){Materialize.toast("Creating PDF, please wait",6e4,"loading-pdf"),jQuery.post(ajaxurl,{action:"nf_print_report_to_pdf"},function(t){e(".toast.loading-pdf").remove(),"not installed"==t?e("#pfd_creator_not_installed").modal("open"):window.open(t,"_blank")})}),e(document).on("click",".wap_nex_forms_entries tbody tr, .edit_form_entry",function(){var t,a,n;e(this).hasClass("reporting_controls")||(t=e(this),e(".form_entry_data").addClass("faded"),t.hasClass("edit_form_entry")||(e(".wap_nex_forms_entries tr").removeClass("active"),e(".form_entry_view .dashboard-box-header .btn").attr("disabled",!1)),t.addClass("active"),a=e(this).attr("id"),e("a.edit_form_entry").attr("id",a),e("a.print_to_pdf").attr("id",a),n={action:"nf_populate_form_entry_dashboard",form_entry_Id:a,load_entry:jQuery("#load_entry").text(),edit_entry:0},t.hasClass("edit_form_entry")?(n.edit_entry=1,e(".form_entry_view .dashboard-box-header a").hide(),e(".form_entry_view .cancel_save_form_entry").show(),e("button.save_button").show()):(e(".form_entry_view .dashboard-box-header a").show(),e(".form_entry_view .cancel_save_form_entry").hide(),e("button.save_button").hide()),jQuery.post(ajaxurl,n,function(t){e(".form_entry_data").html(t).removeClass("faded"),e("textarea").trigger("autoresize"),e(".materialboxed").materialbox()}))}),jQuery(document).on("click",".deactivate_license",function(){jQuery(".deactivate_license").html('<span class="fa fa-spin fa-spinner"></span> Unregistering...'),jQuery.post(ajaxurl,{action:"deactivate_license"},function(e){Materialize.toast("Purshase Code unregistered",2e3,"toast-success"),setTimeout(function(){jQuery(location).attr("href",jQuery("#siteurl").text()+"/wp-admin/admin.php?page=nex-forms-dashboard")})})}),jQuery(document).on("click",".verify_purchase_code",function(){var e={action:"get_data",eu:jQuery("#envato_username").val(),pc:jQuery("#purchase_code").val(),rereg:!1};jQuery(this).hasClass("re-register")&&(e.rereg=!0),jQuery(".verify_purchase_code").html('<span class="fa fa-spin fa-spinner"></span> Verifying'),jQuery.post(ajaxurl,e,function(e){strstr(e,"License Activated")?(Materialize.toast("Purchase code Registered!",2e3,"toast-success"),setTimeout(function(){jQuery(location).attr("href",jQuery("#siteurl").text()+"/wp-admin/admin.php?page=nex-forms-dashboard")})):strstr(e,"License already in use")?(jQuery(".show_code_response").html(e),jQuery(".verify_purchase_code").html("Re-register").addClass("re-register")):(jQuery(".show_code_response").html(e),jQuery(".verify_purchase_code").html("Register"))})}),e(document).on("click",".delete-record",function(){var t=e(this).closest("tr");t.css("background","#f3989b");var a,n=confirm("Confirm delete?"),s=e(this).attr("data-table"),r=e(this).attr("id");n?(e(this).closest(".database_table").hasClass("wap_nex_forms_temp_report")&&(a={action:"nf_delete_record",table:"wap_nex_forms_entries ",Id:t.find("td.entry_Id").text()},jQuery.post(ajaxurl,a,function(e){})),e(this).closest(".database_table").hasClass("file_manager")&&(a={action:"nf_delete_file",table:s,Id:r},jQuery.post(ajaxurl,a,function(e){})),a={action:"nf_delete_record",table:s,Id:r},jQuery.post(ajaxurl,a,function(e){t.fadeOut("fast","",function(){t.remove(),Materialize.toast("Record Deleted!",2e3,"toast-success")})})):t.css("background","")})}),e(document).on("click",".switch_chart",function(){e("#chart_canvas").removeClass("hide_chart"),"global"==e(this).attr("data-chart-type")&&e("#chart_canvas").addClass("hide_chart"),e(".switch_chart").removeClass("active"),e(this).addClass("active"),nf_print_chart(e(this).attr("data-chart-type"),e(".database_table.wap_nex_forms tr.active").attr("id"))}),e(document).on("change",'select[name="stats_per_form"], select[name="stats_per_year"], select[name="stats_per_month"]',function(){nf_print_chart(e(".switch_chart.active").attr("data-chart-type"),e('select[name="stats_per_form"] option:selected').val())}),e(document).on("click",".chart-selection .form_record td.Id, .chart-selection .form_record td.title",function(){console.log(e(this).parent().find(".edit_record").attr("class")),e(this).parent().find(".edit_record").trigger("click"),e(this).parent().find(".edit_record .fa").trigger("click")}),e(document).on("click",".duplicate_record",function(){var e=jQuery(this),t={action:"nf_duplicate_record",table:"wap_nex_forms",Id:jQuery(this).attr("id")};jQuery.post(ajaxurl,t,function(t){Materialize.toast("Form Duplicated",2e3,"toast-success"),e.closest(".database_table").find(".first-page").trigger("click")})})}(jQuery),jQuery(document).ready(function(){jQuery(document).on("click",".alert .close",function(){jQuery(this).parent().slideUp("slow")}),jQuery(document).on("click",'input[name="email_method"]',function(){"smtp"==jQuery(this).val()?jQuery(".smtp_settings").show():jQuery(".smtp_settings,.smtp_auth_settings").hide()}),jQuery(document).on("click",'input[name="smtp_auth"]',function(){"1"==jQuery(this).val()?jQuery(".smtp_auth_settings").show():jQuery(".smtp_auth_settings").hide()}),jQuery("#mail_chimp_setup").ajaxForm({data:{action:"save_mc_key"},beforeSubmit:function(e,t,a){jQuery("#mail_chimp_setup  button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#mail_chimp_setup button").html("&nbsp;&nbsp;&nbsp;Save MailChimp API&nbsp;&nbsp;&nbsp;"),Materialize.toast("MailChimp API Saved",2e3,"toast-success"),jQuery(".mail_chimp_setup").html('<div class="loading">Loading <i class="fa fa-circle-o-notch fa-spin"></i></div>'),jQuery.post(ajaxurl,{action:"reload_mc_list",reload_mc_list:"true"},function(e){jQuery(".mail_chimp_setup").html(e)})},error:function(e,t,a){console.log(a)}}),jQuery("#get_response_setup").ajaxForm({data:{action:"save_gr_key"},beforeSubmit:function(e,t,a){jQuery("#get_response_setup  button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#get_response_setup  button").html("&nbsp;&nbsp;&nbsp;Save GetResponse API&nbsp;&nbsp;&nbsp;"),Materialize.toast("GetResponse API Saved",2e3,"toast-success"),jQuery(".get_response_setup").html('<div class="loading">Loading <i class="fa fa-circle-o-notch fa-spin"></i></div>'),jQuery.post(ajaxurl,{action:"reload_gr_list",reload_gr_list:"true"},function(e){jQuery(".get_response_setup").html(e)})},error:function(e,t,a){console.log(a)}}),jQuery("#email_config").ajaxForm({data:{action:"save_email_config"},beforeSubmit:function(e,t,a){jQuery("#email_config  button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#email_config  button").html("&nbsp;&nbsp;&nbsp;Save Email Setup&nbsp;&nbsp;&nbsp;"),Materialize.toast("Email Setup Saved",2e3,"toast-success")},error:function(e,t,a){console.log(a)}}),jQuery("#script_config").ajaxForm({data:{action:"save_script_config"},beforeSubmit:function(e,t,a){jQuery("#script_config button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#script_config  button").html("&nbsp;&nbsp;&nbsp;Save JS Inclusions&nbsp;&nbsp;&nbsp;"),Materialize.toast("JS Includes Saved",2e3,"toast-success")},error:function(e,t,a){console.log(a)}}),jQuery("#script_config2").ajaxForm({data:{action:"save_script_config2"},beforeSubmit:function(e,t,a){jQuery("#script_config button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#script_config  button").html("&nbsp;&nbsp;&nbsp;Save JS Inclusions&nbsp;&nbsp;&nbsp;"),Materialize.toast("JS Includes Saved",2e3,"toast-success")},error:function(e,t,a){console.log(a)}}),jQuery("#import_form_html").ajaxForm({data:{action:"import_form_html"},beforeSubmit:function(e,t,a){},success:function(e,t,a,n){},error:function(e,t,a){console.log(a)}}),jQuery("#style_config").ajaxForm({data:{action:"save_style_config"},beforeSubmit:function(e,t,a){jQuery("#style_config button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#style_config button").html("&nbsp;&nbsp;&nbsp;Save CSS Inclusions&nbsp;&nbsp;&nbsp;"),Materialize.toast("CSS Includes Saved",2e3,"toast-success")},error:function(e,t,a){console.log(a)}}),jQuery("#other_config").ajaxForm({data:{action:"save_other_config"},beforeSubmit:function(e,t,a){jQuery("#other_config  button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#other_config  button").html("&nbsp;&nbsp;&nbsp;Save WP Admin Options&nbsp;&nbsp;&nbsp;"),Materialize.toast("Admin option Saved",2e3,"toast-success")},error:function(e,t,a){console.log(a)}}),jQuery(document).on("click",".send_test_email",function(){var e=jQuery(".send_test_email").html();jQuery(".send_test_email").html('<span class="fa fa-spinner fa-spin"></span>&nbsp;Sending...');var t={action:"nf_send_test_email",email_address:jQuery('input[name="test_email_address"]').val()};jQuery.post(ajaxurl,t,function(t){jQuery(".send_test_email").html("Email Sent"),Materialize.toast("Email Sent",2e3,"toast-success"),setTimeout(function(){jQuery(".send_test_email").html(e)},2e3)})})}),jQuery(document).ready(function(){jQuery(document).on("click","#preferences .alert .close",function(){jQuery(this).parent().slideUp("slow")}),jQuery("#field-pref").ajaxForm({data:{action:"save_field_pref"},beforeSubmit:function(e,t,a){jQuery("#field-pref button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#field-pref button").html("&nbsp;&nbsp;&nbsp;Save Field Preferences&nbsp;&nbsp;&nbsp;"),Materialize.toast("Field Preferences Saved",2e3,"toast-success")},error:function(e,t,a){console.log(a)}}),jQuery("#validation-pref").ajaxForm({data:{action:"save_validation_pref"},beforeSubmit:function(e,t,a){jQuery("#validation-pref button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#validation-pref button").html("&nbsp;&nbsp;&nbsp;Save Validation Preferences&nbsp;&nbsp;&nbsp;"),Materialize.toast("Validation Preferences Saved",2e3,"toast-success")},error:function(e,t,a){console.log(a)}}),jQuery("#emails-pref").ajaxForm({data:{action:"save_email_pref"},beforeSubmit:function(e,t,a){jQuery("#emails-pref button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#emails-pref button").html("&nbsp;&nbsp;&nbsp;Save Email Preferences&nbsp;&nbsp;&nbsp;"),Materialize.toast("Email Preferences Saved",2e3,"toast-success")},error:function(e,t,a){console.log(a)}}),jQuery("#other-pref").ajaxForm({data:{action:"save_other_pref"},beforeSubmit:function(e,t,a){jQuery("#other-pref button").html('&nbsp;&nbsp;&nbsp;<span class="fa fa-spin fa-spinner"></span>&nbsp;Saving...&nbsp;&nbsp;&nbsp;')},success:function(e,t,a,n){jQuery("#other-pref button").html("&nbsp;&nbsp;&nbsp;Save Other Preferences&nbsp;&nbsp;&nbsp;"),Materialize.toast("Other Preferences Saved",2e3,"toast-success")},error:function(e,t,a){console.log(a)}})});