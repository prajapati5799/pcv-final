"use strict";var timer,help_text_timer,dev=!1,strPos=0,LS_MCE_l10n="test",mtheme_shortcodegen_url="",set_context_id="",js_editor_before="",js_editor_after="",css_editor="";function render_radiochecks(i,n,e,o,l){var u="";i.find(e).each(function(e){var t=jQuery(this).find(".input-label").text(),a=jQuery(this).find("input").val(),s=i.find("#the-radios").attr("data-layout"),r="4c"==s?"display-block col-sm-3":"3c"==s?"display-block col-sm-4":"2c"==s?"display-block col-sm-6":"1c"==s?"display-block col-sm-12":"";"bootstrap"!=l&&"m_design"!=l||("radio"==o&&(i.removeClass("md-radio-group").removeClass("jq-radio-group").removeClass("classic-radio-group").addClass("radio-group"),u+='<label class="radio-inline  '+r+'" for="'+format_illegal_chars(t)+'" ><span class="svg_ready"><input class="radio the_input_element" type="radio" name="'+format_illegal_chars(n)+'" id="'+format_illegal_chars(t)+'" value="'+a+'"><span class="input-label radio-label">'+t+"</span></span></label>"),"check"==o&&(i.removeClass("md-check-group").removeClass("jq-check-group").removeClass("classic-check-group").addClass("check-group"),u+='<label class="checkbox-inline  '+r+'" for="'+format_illegal_chars(t)+'" ><span class="svg_ready"><input class="check the_input_element" type="checkbox" name="'+format_illegal_chars(n)+'" id="'+format_illegal_chars(t)+'" value="'+a+'"><span class="input-label check-label">'+t+"</span></span></label>")),"jq_ui"==l&&("radio"==o&&(i.removeClass("md-radio-group").removeClass("radio-group").removeClass("classic-radio-group").addClass("jq-radio-group"),u+='<div class="jq_radio_check  '+r+'"><label class="input-label" for="'+format_illegal_chars(t)+'_jq">'+t+'</label><input type="radio" name="'+format_illegal_chars(n)+'" id="'+format_illegal_chars(t)+'_jq" value="'+a+'"></div>'),"check"==o&&(i.removeClass("md-check-group").removeClass("check-group").removeClass("classic-check-group").addClass("jq-check-group"),u+='<div class="jq_radio_check  '+r+'"><label class="input-label" for="'+format_illegal_chars(t)+'_jq">'+t+'</label><input type="checkbox" name="'+format_illegal_chars(n)+'" id="'+format_illegal_chars(t)+'_jq" value="'+a+'"></div>')),"browser"==l&&("radio"==o&&(i.removeClass("md-radio-group").removeClass("jq-radio-group").addClass("radio-group").addClass("classic-radio-group"),u+='<label class="radio-inline  '+r+'" for="'+format_illegal_chars(t)+'" ><span class="svg_ready"><input class="radio the_input_element" type="radio" name="'+format_illegal_chars(n)+'" id="'+format_illegal_chars(t)+'" value="'+a+'"><span class="input-label radio-label">'+t+"</span></span></label>"),"check"==o&&(i.removeClass("md-check-group").removeClass("jq-check-group").addClass("check-group").addClass("classic-check-group"),u+='<label class="checkbox-inline  '+r+'" for="'+format_illegal_chars(t)+'" ><span class="svg_ready"><input class="check the_input_element" type="checkbox" name="'+format_illegal_chars(n)+'" id="'+format_illegal_chars(t)+'" value="'+a+'"><span class="input-label check-label">'+t+"</span></span></label>"))}),i.find(".input-inner").html(u)}function reset_field_theme(e,t){var a=(t=t).find("input").attr("name"),s="none",r="";if(jQuery(".settings-column-style").removeClass("material_theme"),jQuery(".field-setting.s-odd_setting").removeAttr("style"),"browser"==e?(jQuery(".ui-nex-forms-container .input-group").addClass("input-group-bd"),jQuery(".ui-nex-forms-container .input-group").removeClass("input-group"),jQuery(".ui-nex-forms-container .input-group-addon").addClass("input-group-addon-bd"),jQuery(".ui-nex-forms-container .input-group-addon").removeClass("input-group-addon"),jQuery(".ui-nex-forms-container button").removeClass("btn").removeClass("btn-default")):(jQuery(".ui-nex-forms-container .input-group-bd").addClass("input-group").removeClass("input-group-bd"),jQuery(".ui-nex-forms-container .input-group-addon-bd").addClass("input-group-addon").removeClass("input-group-addon-bd"),jQuery(".ui-nex-forms-container button").addClass("btn").addClass("btn-default")),(t.hasClass("radio-group")||t.hasClass("md-radio-group")||t.hasClass("jq-radio-group")||t.hasClass("classic-radio-group"))&&(s="radio"),(t.hasClass("check-group")||t.hasClass("md-check-group")||t.hasClass("jq-check-group")||t.hasClass("classic-check-group"))&&(s="check"),(t.hasClass("radio-group")||t.hasClass("check-group")||t.hasClass("classic-radio-group")||t.hasClass("classic-check-group"))&&(r=".input-inner label"),(t.hasClass("md-radio-group")||t.hasClass("md-check-group"))&&(r=".radio_check_input"),(t.hasClass("jq-radio-group")||t.hasClass("jq-check-group"))&&(r=".jq_radio_check"),"none"!=s&&render_radiochecks(t,a,r,s,"bootstrap"),"browser"!=e&&setup_form_element(t),"m_design"==e)t.hasClass("slider")&&(t.removeClass("slider").addClass("md-slider"),t.find("#slider").slider("destroy"),t.find("#slider").addClass("noUi-target").addClass("noUi-ltr").addClass("noUi-horizontal"),setup_form_element(t)),t.hasClass("date")&&(t.removeClass("date").addClass("md-datepicker"),setup_form_element(t)),t.hasClass("jq-datepicker")&&(t.find("input").datepicker("destroy"),t.removeClass("jq-datepicker").addClass("md-datepicker"),setup_form_element(t)),t.hasClass("time")&&(t.removeClass("time").addClass("md-time-picker"),setup_form_element(t)),t.hasClass("jq-time-picker")&&(t.find("input").timepicker("destroy"),t.removeClass("jq-time-picker").addClass("md-time-picker"),setup_form_element(t));else if("bootstrap"==e||"browser"==e||"m_design"==e||"neumorphism"==e){if("bootstrap"==e&&(t.hasClass("html_fields")&&t.hasClass("button_fields")||t.find(".the_input_element").addClass("form-control"),t.find(".the_input_element").removeClass("ui-corner-all").removeClass("ui-widget").removeClass("default-browser-style")),"browser"==e&&t.find(".the_input_element").removeClass("ui-corner-all").removeClass("ui-widget").removeClass("form-control").addClass("default-browser-style"),"none"!=s&&"browser"!=e&&setTimeout(function(){t.find("#the-radios input").nexchecks()},10),t.hasClass("touch_spinner")&&(t.find("#spinner").attr("data-verticalbuttons",!1),t.find(".bootstrap-touchspin .input-group-btn").remove(),t.find(".bootstrap-touchspin .input-group-btn-vertical").remove(),t.find(".bootstrap-touchspin").prepend('<span class="input-group-btn"><button class="btn btn-default bootstrap-touchspin-down" type="button">-</button></span>'),t.find(".bootstrap-touchspin").append('<span class="input-group-btn"><button class="btn btn-default bootstrap-touchspin-up" type="button">+</button></span>'),t.removeClass("md-spinner").removeClass("jq-spinner"),setup_form_element(t)),t.removeClass("jquery_field"),t.removeClass("material_field"),t.removeClass("bootstrap_field"),t.removeClass("classic_field"),"bootstrap"==e&&t.addClass("bootstrap_field"),"browser"==e&&t.addClass("classic_field"),t.hasClass("md-slider")&&(t.removeClass("md-slider").addClass("slider"),t.find("#slider").slider("destroy"),t.find("#slider").removeClass("noUi-target").removeClass("noUi-ltr").removeClass("noUi-horizontal"),setup_form_element(t)),t.find("#the-radios").addClass("the-radios"),t.hasClass("preset_fields")||t.hasClass("text")||t.hasClass("autocomplete")||t.hasClass("md-datepicker")||t.hasClass("jq-datepicker")||t.hasClass("md-time-picker")||t.hasClass("jq-time-picker")||t.hasClass("textarea")||t.hasClass("select")||t.hasClass("multi-select")||t.hasClass("password")){if(t.hasClass("submit-button")||t.hasClass("nex-button")||t.hasClass("prev-button"))return;t.find(".label_container").removeClass("hidden"),t.find("i.material-icons").remove(),t.find("#md_label").remove(),t.find(".input-field").attr("class","col-sm-12  input_container"),t.find(".input-group-md").attr("class","input-group"),t.find(".input-group-addon.prefix2").attr("class","input-group-addon prefix"),t.find(".input-group-addon").removeClass("hidden").removeClass("ui-button").removeClass("jq-add-on"),t.hasClass("textarea")&&t.find(".textarea").removeClass("materialize-textarea"),(t.hasClass("select")||t.hasClass("multi-select"))&&(t.find("select").hasClass("jq_select")&&(t.find("select").selectmenu("destroy"),t.find("select").removeClass("jq_select")),t.find("select").material_select("destroy"),t.find("select").removeClass("material_select").removeClass("initialized").addClass("form-control")),t.hasClass("md-datepicker"),t.hasClass("jq-datepicker"),t.hasClass("md-time-picker"),t.hasClass("jq-time-picker"),"browser"==e&&jQuery(".ui-nex-forms-container .form-control").removeClass("form-control")}"m_design"==e&&(t.hasClass("slider")&&(t.removeClass("slider").addClass("md-slider"),t.find("#slider").slider("destroy"),t.find("#slider").addClass("noUi-target").addClass("noUi-ltr").addClass("noUi-horizontal"),setup_form_element(t)),t.hasClass("date")&&(t.removeClass("date").addClass("md-datepicker"),setup_form_element(t)),t.hasClass("jq-datepicker")&&(t.find("input").datepicker("destroy"),t.removeClass("jq-datepicker").addClass("md-datepicker"),setup_form_element(t)),t.hasClass("time")&&(t.removeClass("time").addClass("md-time-picker"),setup_form_element(t)),t.hasClass("jq-time-picker")&&(t.find("input").timepicker("destroy"),t.removeClass("jq-time-picker").addClass("md-time-picker"),setup_form_element(t)))}else"jq_ui"==e&&("none"!=s&&t.find("#the-radios input").checkboxradio(),t.hasClass("touch_spinner")&&(t.find("#spinner").attr("data-verticalbuttons",!0),t.find(".bootstrap-touchspin .input-group-btn").remove(),t.find(".bootstrap-touchspin .input-group-btn-vertical").remove(),t.find(".bootstrap-touchspin").append('<span class="input-group-btn-vertical"><button class="btn btn-default bootstrap-touchspin-up" type="button"><i class="glyphicon glyphicon-chevron-up"></i></button><button class="btn btn-default bootstrap-touchspin-down" type="button"><i class="glyphicon glyphicon-chevron-down"></i></button></span>'),t.removeClass("md-spinner").addClass("jq-spinner"),setup_form_element(t)),t.hasClass("md-slider")&&(t.removeClass("md-slider").addClass("slider"),t.find("#slider").slider("destroy"),t.find("#slider").removeClass("noUi-target").removeClass("noUi-ltr").removeClass("noUi-horizontal"),setup_form_element(t)),t.find("#the-radios").removeClass("the-radios"),jQuery(".md-radio-group #the-radios").removeClass("the-radios"),jQuery(".md-check-group #the-radios").removeClass("the-radios"),t.find(".the_input_element").addClass("ui-corner-all").addClass("ui-widget").addClass("form-control"),t.find(".label_container").removeClass("hidden"),t.find("i.material-icons").remove(),t.find("#md_label").remove(),t.find(".input-field").attr("class","col-sm-12  input_container"),t.find(".input-group-md").attr("class","input-group"),t.find(".input-group-addon.prefix2").attr("class","input-group-addon prefix"),t.find(".input-group-addon").removeClass("hidden").removeClass("ui-button").addClass("jq-add-on"),(t.hasClass("select")||t.hasClass("multi-select"))&&t.hasClass("material_field")&&(t.find("select").material_select("destroy"),t.find("select").removeClass("material_select").removeClass("initialized")),t.hasClass("select")&&(t.find("select").addClass("jq_select"),t.find("select.jq_select").selectmenu()),(t.hasClass("date")||t.hasClass("md-datepicker"))&&(t.removeClass("date").addClass("jq-datepicker"),setup_form_element(t)),(t.hasClass("time")||t.hasClass("md-time-picker"))&&(t.removeClass("time").addClass("jq-time-picker"),setup_form_element(t)),t.removeClass("classic_field"),t.addClass("jquery_field"),t.removeClass("material_field"),t.removeClass("bootstrap_field"),jQuery(".ui-nex-forms-container select").removeClass("form-control"));jQuery(".ui-nex-forms-container .single-image-select-group #the-radios").addClass("the-radios"),jQuery(".ui-nex-forms-container .multi-image-select-group #the-radios").addClass("the-radios"),jQuery(".the-icon-field-container").removeClass("form-control"),jQuery(".ui-nex-forms-container .html_fields .the_input_element, .ui-nex-forms-container .button_fields .the_input_element").removeClass("form-control")}function hide_step_back_next(e){var t=e.closest(".form_field"),a=t.closest(".form_field.grid-system");a.hasClass("grid-system")?a.removeClass("hidden"):t.removeClass("hidden")}function confirmExit(){if(jQuery(".check_save").hasClass("not_saved"))return"You have attempted to leave this page.  If you have made any changes without clicking the Save button, your changes will be lost.  Are you sure you want to exit this page?"}function nf_count_multi_steps(){var e=jQuery(".nex-forms-container .form_field.step").size(),n="",o="",l="",u="",d="";return jQuery(".nex-forms-container .form_field.step").each(function(e,t){for(var a=0;a<80;a++)jQuery(this).removeClass("nf_multi_step_"+a);jQuery(this).addClass("nf_multi_step_"+(e+1)),u=jQuery(this).attr("data-step-description")?jQuery(this).attr("data-step-description"):"",d=jQuery(this).attr("data-step-icon")?jQuery(this).attr("data-step-icon"):"";var s="",r="no-description";u&&(r="");var i=d?"has-icon":"no-icon";jQuery(this).attr("data-step-num",e+1),(l=jQuery(this).find('input[name="multi_step_name"]').val()?jQuery(this).find('input[name="multi_step_name"]').val():"")&&""!=l&&null!=l&&" "!=l&&"  "!=l&&"   "!=l&&"&nbsp;"!=l&&"&nbsp; "!=l&&"&nbsp;  "!=l||(s="no-title"),o+='<li ><a data-title="'+l+'"data-toggle="tooltip_bs" data-placement="bottom" data-show-step="'+(e+1)+'">'+(e+1)+"</a></li>",n+='<li class="'+r+" "+s+" "+i+'"><div class="crumb_container"><div class="step_number_container"><span class="the_step_num">'+(e+1)+'</span><span class="the_step_icon '+d+'" ></span></div><a data-show-step="'+(e+1)+'"><div class="step_title">'+l+'</div><div class="step_description">'+u+'</div></a><div class="step_connecter" style="display:none"></div></div></li>',jQuery(this).find(".ms-step-number").text(e+1),jQuery(this).find('input[name="multi_step_name"]').attr("placeholder","Step "+(e+1)+" title"),jQuery(this).find('input[name="multi_step_description"]').attr("placeholder","Step "+(e+1)+" description")}),jQuery("span.all_steps_count").html(e),jQuery(".nf_ms_breadcrumb ul").html(n),jQuery(".multi-step-stepping").html(o),jQuery('[data-toggle="tooltip_bs"]').tooltip_bs({delay:0,html:!0}),e}function nf_reset_multi_steps(){for(var e=0;e<80;e++)jQuery(".nex-forms-container .form_field.step").removeClass("nf_multi_step_"+e)}function popup_user_alert(e){Materialize.toast(e,2e3,"toast-success")}function possible_email_fields(){var e='<option value="">Dont send confirmation mail to user</option>';jQuery("div.nex-forms-container div.form_field input.email").each(function(){e+='<option value="'+jQuery(this).attr("name")+'" '+(jQuery(".nex_form_attr .user_email_field").text()==jQuery(this).attr("name")?'selected="selected"':"")+" >"+jQuery(this).closest("div.form_field").find(".the_label").text()+"</option>"}),jQuery('select[name="posible_email_fields"]').html(e)}function update_select(e){jQuery("select"+e+" option").each(function(){var e=jQuery(this).closest("select");jQuery(this).val()==e.attr("data-selected")&&(jQuery(this).attr("selected","selected"),jQuery(this).trigger("click"))})}function nf_apply_font(e,t){if(""==jQuery('select[name="'+t+'"]').val())return jQuery('select[name="'+t+'"]').attr("data-selected",""),void e.css("font-family","");var a=JSON.parse(jQuery('select[name="'+t+'"]').val());e.css("font-family",a.family),jQuery('select[name="'+t+'"]').attr("data-selected",jQuery('select[name="'+t+'"] option:selected').attr("class")),"undefined"!==a.name&&0<!jQuery('link[id="'+format_illegal_chars(a.name)+'"]').length&&"arial"!=format_illegal_chars(a.name)&&"bookman"!=format_illegal_chars(a.name)&&"century_gothic"!=format_illegal_chars(a.name)&&"comic_sans_ms"!=format_illegal_chars(a.name)&&"courier"!=format_illegal_chars(a.name)&&"garamond"!=format_illegal_chars(a.name)&&"georgia"!=format_illegal_chars(a.name)&&"helvetica"!=format_illegal_chars(a.name)&&"lucida_grande"!=format_illegal_chars(a.name)&&"palatino"!=format_illegal_chars(a.name)&&"tahoma"!=format_illegal_chars(a.name)&&"times"!=format_illegal_chars(a.name)&&"trebuchet_ms"!=format_illegal_chars(a.name)&&"verdana"!=format_illegal_chars(a.name)&&jQuery('<link id="'+format_illegal_chars(a.name)+'" type="text/css" role="google-font-import" rel="stylesheet" href="https://fonts.googleapis.com/css?family='+a.name+'">').appendTo(".nex-forms-container")}function set_ms_field_map(){var e='<option value="0" selected="selected">--- Map Field --</option>';e+='<optgroup label="Text Fields">',jQuery('div.nex-forms-container div.form_field input[type="text"]').each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Text Areas">',jQuery("div.nex-forms-container div.form_field textarea").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Radio Buttons">';var t="",a="";jQuery('div.nex-forms-container div.form_field input[type="radio"]').each(function(){(t=jQuery(this).attr("name"))!=a&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),a=t}),e+="</optgroup>";var s="",r="";e+='<optgroup label="Check Boxes">',jQuery('div.nex-forms-container div.form_field input[type="checkbox"]').each(function(){(s=jQuery(this).attr("name"))!=r&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),r=s}),e+="</optgroup>",e+='<optgroup label="Selects">',jQuery("div.nex-forms-container div.form_field select").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Hidden Fields">',e+=jQuery(".hidden_form_fields").html(),e+="</optgroup>",jQuery(".ms_field_map").find("select").html(e),jQuery(".ms_field_map").find("select option").each(function(){var e=jQuery(this).closest("select");jQuery(this).val()==e.attr("data-selected")&&jQuery(this).attr("selected","selected")})}function set_mp_field_map(){var e='<option value="0" selected="selected">--- Map Field --</option>';e+='<optgroup label="Text Fields">',jQuery('div.nex-forms-container div.form_field input[type="text"]').each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Text Areas">',jQuery("div.nex-forms-container div.form_field textarea").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Radio Buttons">';var t="",a="";jQuery('div.nex-forms-container div.form_field input[type="radio"]').each(function(){(t=jQuery(this).attr("name"))!=a&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),a=t}),e+="</optgroup>";var s="",r="";e+='<optgroup label="Check Boxes">',jQuery('div.nex-forms-container div.form_field input[type="checkbox"]').each(function(){(s=jQuery(this).attr("name"))!=r&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),r=s}),e+="</optgroup>",e+='<optgroup label="Selects">',jQuery("div.nex-forms-container div.form_field select").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Hidden Fields">',e+=jQuery(".hidden_form_fields").html(),e+="</optgroup>",jQuery(".mp_field_map").find("select").html(e),jQuery(".mp_field_map").find("select option").each(function(){var e=jQuery(this).closest("select");jQuery(this).val()==e.attr("data-selected")&&jQuery(this).attr("selected","selected")})}function set_mc_field_map(){var e='<option value="0" selected="selected">--- Map Field --</option>';e+='<optgroup label="Text Fields">',jQuery('div.nex-forms-container div.form_field input[type="text"]').each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Text Areas">',jQuery("div.nex-forms-container div.form_field textarea").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Radio Buttons">';var t="",a="";jQuery('div.nex-forms-container div.form_field input[type="radio"]').each(function(){(t=jQuery(this).attr("name"))!=a&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),a=t}),e+="</optgroup>";var s="",r="";e+='<optgroup label="Check Boxes">',jQuery('div.nex-forms-container div.form_field input[type="checkbox"]').each(function(){(s=jQuery(this).attr("name"))!=r&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),r=s}),e+="</optgroup>",e+='<optgroup label="Selects">',jQuery("div.nex-forms-container div.form_field select").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Hidden Fields">',e+=jQuery(".hidden_form_fields").html(),e+="</optgroup>",jQuery(".mc_field_map").find("select").html(e),jQuery(".mc_field_map").find("select option").each(function(){var e=jQuery(this).closest("select");jQuery(this).val()==e.attr("data-selected")&&jQuery(this).attr("selected","selected")})}function set_gr_field_map(){var e='<option value="0" selected="selected">--- Map Field --</option>';e+='<optgroup label="Text Fields">',jQuery('div.nex-forms-container div.form_field input[type="text"]').each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Text Areas">',jQuery("div.nex-forms-container div.form_field textarea").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Radio Buttons">';var t="",a="";jQuery('div.nex-forms-container div.form_field input[type="radio"]').each(function(){(t=jQuery(this).attr("name"))!=a&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),a=t}),e+="</optgroup>";var s="",r="";e+='<optgroup label="Check Boxes">',jQuery('div.nex-forms-container div.form_field input[type="checkbox"]').each(function(){(s=jQuery(this).attr("name"))!=r&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),r=s}),e+="</optgroup>",e+='<optgroup label="Selects">',jQuery("div.nex-forms-container div.form_field select").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Hidden Fields">',e+=jQuery(".hidden_form_fields").html(),e+="</optgroup>",jQuery(".gr_field_map").find("select").html(e),jQuery(".gr_field_map").find("select option").each(function(){var e=jQuery(this).closest("select");jQuery(this).val()==e.attr("data-selected")&&jQuery(this).attr("selected","selected")})}function set_ftp_field_map(){var e='<option value="0" selected="selected">--- Map Field --</option>';e+='<optgroup label="Text Fields">',jQuery('div.nex-forms-container div.form_field input[type="text"]').each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Text Areas">',jQuery("div.nex-forms-container div.form_field textarea").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Radio Buttons">';var t="",a="";jQuery('div.nex-forms-container div.form_field input[type="radio"]').each(function(){(t=jQuery(this).attr("name"))!=a&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),a=t}),e+="</optgroup>";var s="",r="";e+='<optgroup label="Check Boxes">',jQuery('div.nex-forms-container div.form_field input[type="checkbox"]').each(function(){(s=jQuery(this).attr("name"))!=r&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),r=s}),e+="</optgroup>",e+='<optgroup label="Selects">',jQuery("div.nex-forms-container div.form_field select").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="File Uploaders">',jQuery('div.nex-forms-container div.form_field input[type="file"]').each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Hidden Fields">',e+=jQuery(".hidden_form_fields").html(),e+="</optgroup>",jQuery(".ftp-form-field").find("select").html(e),jQuery(".ftp-form-field").find("select option").each(function(){var e=jQuery(this).closest("select");jQuery(this).val()==e.attr("data-selected")&&jQuery(this).attr("selected","selected")})}function set_paypal_fields(){var e='<option value="0" selected="selected">--- Map Field --</option>';e+='<optgroup label="Text Fields">',jQuery('div.nex-forms-container div.form_field input[type="text"]').each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Radio Buttons">';var t="",a="";jQuery('div.nex-forms-container div.form_field input[type="radio"]').each(function(){(t=jQuery(this).attr("name"))!=a&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),a=t}),e+="</optgroup>";var s="",r="";e+='<optgroup label="Check Boxes">',jQuery('div.nex-forms-container div.form_field input[type="checkbox"]').each(function(){(s=jQuery(this).attr("name"))!=r&&(e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),r=s}),e+="</optgroup>",e+='<optgroup label="Selects">',jQuery("div.nex-forms-container div.form_field select").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Text Areas">',jQuery("div.nex-forms-container div.form_field textarea").each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+="</optgroup>",e+='<optgroup label="Hidden Fields">',jQuery('div.nex-forms-container div.form_field input[type="hidden"]').each(function(){e+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),e+=jQuery(".hidden_form_fields").html(),e+="</optgroup>",jQuery(".paypal_products").find("select").html(e),jQuery(".paypal-column").find("select option").each(function(){var e=jQuery(this).closest("select");jQuery(this).val()==e.attr("data-selected")&&jQuery(this).attr("selected","selected")})}function setup_tags(){var a="",s="",r="";a+='<li class="tiny_menu_head"><strong>Default tags</strong></li>',a+='<li><a class="item" element="tag" code="nf_form_data" href="#">Form Data Table</a></li>',a+='<li><a class="item" element="tag" code="nf_page_title" href="#">Page Title</a></li>',a+='<li><a class="item" element="tag" code="nf_page_id" href="#">Page ID</a></li>',a+='<li><a class="item" element="tag" code="nf_from_page" href="#">From Page</a></li>',a+='<li><a class="item" element="tag" code="nf_form_title" href="#">Form Title</a></li>',a+='<li><a class="item" element="tag" code="nf_form_id" href="#">Form ID</a></li>',a+='<li><a class="item" element="tag" code="nf_entry_id" href="#">Unique Entry ID</a></li>',a+='<li><a class="item" element="tag" code="nf_entry_date_time" href="#">Date &amp; Time</a></li>',a+='<li><a class="item" element="tag" code="nf_entry_date" href="#">Date</a></li>',a+='<li><a class="item" element="tag" code="nf_entry_date_day" href="#">Date - Day </a></li>',a+='<li><a class="item" element="tag" code="nf_entry_date_month" href="#">Date - Month </a></li>',a+='<li><a class="item" element="tag" code="nf_entry_date_year" href="#">Date - Year </a></li>',a+='<li><a class="item" element="tag" code="nf_entry_time" href="#">Time</a></li>',a+='<li><a class="item" element="tag" code="nf_user_ip" href="#">User IP</a></li>',a+='<li class="tiny_menu_head"><strong>Field tags</strong></li>',jQuery("div.nex-forms-container div.form_field input.the_input_element").each(function(){var e=jQuery(this).attr("name");e=(e=e.replace("]","")).replace("[","");var t=jQuery(this).attr("type");"radio"==t||"checkbox"==t?((s=jQuery(this).attr("name"))!=r&&(a+='<li><a class="item" element="tag" code="'+e+'" href="#">'+unformat_name(e)+"</a></li>"),r=s):a+='<li><a class="item" element="tag" code="'+e+'" href="#">'+unformat_name(e)+"</a></li>"}),jQuery("div.nex-forms-container div.form_field select.the_input_element").each(function(){var e=jQuery(this).attr("name");a+='<li><a class="item" element="tag" code="'+e+'" href="#">'+unformat_name(e)+"</a></li>"}),jQuery("div.nex-forms-container div.form_field textarea.the_input_element").each(function(){var e=jQuery(this).attr("name");a+='<li><a class="item" element="tag" code="'+e+'" href="#">'+unformat_name(e)+"</a></li>"}),a+='<li class="tiny_menu_head"><strong>Logged-in User tags</strong></li>',a+='<li><a class="item" element="tag" code="nf_user_name" href="#">Username</a></li>',a+='<li><a class="item" element="tag" code="nf_user_first_name" href="#">User First Name</a></li>',a+='<li><a class="item" element="tag" code="nf_user_last_name" href="#">User Last Name</a></li>',a+='<li><a class="item" element="tag" code="nf_user_email_address" href="#">User Email Address</a></li>',a+='<li><a class="item" element="tag" code="nf_user_url" href="#">User URL</a></li>',a+='<li class="tiny_menu_head"><strong>PayPal tags</strong></li>',a+='<li><a class="item" element="tag" code="nf_paypal_data" href="#">PayPal Data Table</a></li>',a+='<li><a class="item" element="tag" code="nf_paypal_status" href="#">Payment Status</a></li>',a+='<li><a class="item" element="tag" code="nf_paypal_ammount" href="#">Payment Ammount</a></li>',a+='<li><a class="item" element="tag" code="nf_paypal_currency" href="#">Payment Currency</a></li>',a+='<li><a class="item" element="tag" code="nf_paypal_payment_id" href="#">Payment ID</a></li>',a+='<li><a class="item" element="tag" code="nf_paypal_payment_token" href="#">Payment Token</a></li>',jQuery(".tiny_button_tags_placeholders").html(a)}function setup_tags2(){var t="";t+='<optgroup label="Text Fields">',jQuery('div.nex-forms-container div.form_field input[type="text"]').each(function(){t+='<option value="{{'+format_illegal_chars(jQuery(this).attr("name"))+'}}">'+unformat_name(jQuery(this).attr("name"))+"</option>"}),t+="</optgroup>",t+='<optgroup label="Radio Buttons">';var e="",a="";jQuery('div.nex-forms-container div.form_field input[type="radio"]').each(function(){(e=jQuery(this).attr("name"))!=a&&(t+='<option value="{{'+format_illegal_chars(jQuery(this).attr("name"))+'}}">'+unformat_name(jQuery(this).attr("name"))+"</option>"),a=e}),t+="</optgroup>";var s="",r="";t+='<optgroup label="Check Boxes">',jQuery('div.nex-forms-container div.form_field input[type="checkbox"]').each(function(){var e=jQuery(this).attr("name").replace("[]","");(s=e)!=r&&(t+='<option value="{{'+format_illegal_chars(e)+'}}">'+unformat_name(jQuery(this).attr("name"))+"</option>"),r=s}),t+="</optgroup>",t+='<optgroup label="Selects">',jQuery("div.nex-forms-container div.form_field select").each(function(){t+='<option value="{{'+format_illegal_chars(jQuery(this).attr("name"))+'}}">'+unformat_name(jQuery(this).attr("name"))+"</option>"}),t+="</optgroup>",t+='<optgroup label="Text Areas">',jQuery("div.nex-forms-container div.form_field textarea").each(function(){t+='<option value="{{'+format_illegal_chars(jQuery(this).attr("name"))+'}}">'+unformat_name(jQuery(this).attr("name"))+"</option>"}),t+="</optgroup>",t+='<optgroup label="File Uploaders">',jQuery('div.nex-forms-container div.form_field input[type="file"]').each(function(){t+='<option value="{{'+format_illegal_chars(jQuery(this).attr("name"))+'}}">'+unformat_name(jQuery(this).attr("name"))+"</option>"}),t+="</optgroup>",t+='<optgroup label="Hidden Fields">',jQuery('div.nex-forms-container div.form_field input[type="hidden"]').each(function(){t+='<option value="{{'+format_illegal_chars(jQuery(this).attr("name"))+'}}">'+unformat_name(jQuery(this).attr("name"))+"</option>"}),t+=jQuery(".hidden_form_fields").html(),t+="</optgroup>",t+='<optgroup label="More Tags">',t+='<option value="{{nf_form_data}}">Form Data Table</option>',t+='<option value="{{nf_user_ip}}">IP Address</option>',t+='<option value="{{nf_from_page}}">Page Title</option>',t+='<option value="{{nf_form_title}}">Form Title</option>',t+='<option value="{{nf_user_name}}">User Name</option>',t+="</optgroup>",jQuery('select[name="email_field_tags"], select[name="user_email_field_tags"]').html(t)}function setup_field_settings(e){e.hasClass("icon-select-group")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .icon-select-group").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .icon-select-group").attr("data-settings"))),e.hasClass("digital-signature")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .digital-signature").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .digital-signature").attr("data-settings"))),e.hasClass("preset_fields")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .preset_fields.name").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .preset_fields.name").attr("data-settings"))),e.hasClass("textarea")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .textarea.common_fields").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .textarea.common_fields").attr("data-settings"))),e.hasClass("text")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .text").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .text").attr("data-settings"))),e.hasClass("password")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .password").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .password").attr("data-settings"))),e.hasClass("select")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .select").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .select").attr("data-settings"))),e.hasClass("multi-select")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .multi-select").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .multi-select").attr("data-settings"))),(e.hasClass("radio-group")||e.hasClass("md-radio-group"))&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .radio-group").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .radio-group").attr("data-settings"))),(e.hasClass("check-group")||e.hasClass("md-check-group"))&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .check-group").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .check-group").attr("data-settings"))),e.hasClass("single-image-select-group")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .single-image-select-group").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .single-image-select-group").attr("data-settings"))),e.hasClass("multi-image-select-group")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .multi-image-select-group").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .multi-image-select-group").attr("data-settings"))),(e.hasClass("slider")||e.hasClass("md-slider"))&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .slider").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .slider").attr("data-settings"))),e.hasClass("touch_spinner")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .touch_spinner").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .touch_spinner").attr("data-settings"))),e.hasClass("autocomplete")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .autocomplete").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .autocomplete").attr("data-settings"))),e.hasClass("tags")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .tags").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .tags").attr("data-settings"))),(e.hasClass("date")||e.hasClass("md-datepicker")||e.hasClass("jq-datepicker"))&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .date").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .date").attr("data-settings"))),(e.hasClass("time")||e.hasClass("md-time-picker")||e.hasClass("jq-time-picker"))&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .time").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .time").attr("data-settings"))),e.hasClass("star-rating")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .star-rating").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .star-rating").attr("data-settings"))),e.hasClass("thumb-rating")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .thumb-rating").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .thumb-rating").attr("data-settings"))),e.hasClass("smily-rating")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .smily-rating").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .smily-rating").attr("data-settings"))),e.hasClass("upload-multi")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .upload-multi").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .upload-multi").attr("data-settings"))),e.hasClass("upload-single")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .upload-single").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .upload-single").attr("data-settings"))),e.hasClass("upload-image")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .upload-image").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .upload-image").attr("data-settings"))),(e.hasClass("submit-button")||e.hasClass("submit-button-2"))&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .submit-button").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .submit-button").attr("data-settings"))),e.hasClass("heading")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .heading").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .heading").attr("data-settings"))),e.hasClass("math_logic")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .math_logic").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .math_logic").attr("data-settings"))),e.hasClass("paragraph")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .paragraph").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .paragraph").attr("data-settings"))),e.hasClass("html")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .html").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .html").attr("data-settings"))),e.hasClass("divider")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .divider").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .divider").attr("data-settings"))),e.hasClass("is_panel")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .is_panel").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .is_panel").attr("data-settings"))),e.hasClass("grid-system")&&(e.attr("data-settings-tabs",jQuery(".field-selection-tools .grid-system").attr("data-settings-tabs")),e.attr("data-settings",jQuery(".field-selection-tools .grid-system").attr("data-settings")))}function nf_save_nex_form(e,t,a){a&&a.find(".waves-ripple").remove(),jQuery(".new_item").removeClass("new_item"),""!=jQuery(".ui-nex-forms-container .jq-datepicker").attr("class")&&jQuery(".ui-nex-forms-container .jq-datepicker input").datepicker("destroy"),""!=jQuery(".ui-nex-forms-container .jq-radio-group").attr("class")&&jQuery(".ui-nex-forms-container .jq-radio-group input").checkboxradio("destroy"),""!=jQuery(".ui-nex-forms-container .jq-check-group").attr("class")&&jQuery(".ui-nex-forms-container .jq-check-group input").checkboxradio("destroy"),""!=jQuery(".ui-nex-forms-container .jq_select").attr("class")&&jQuery(".ui-nex-forms-container select.jq_select").selectmenu("destroy");var s="";a&&(s=a.html(),a.addClass("saving_btn"),a.html('<span class="fa fa-spin fa-refresh"></span>')),tinyMCE&&"undefined"!=tinyMCE&&tinyMCE.triggerSave(),jQuery("link#arial").remove(),jQuery("link#bookman").remove(),jQuery("link#century_gothic").remove(),jQuery("link#comic_sans_ms").remove(),jQuery("link#courier").remove(),jQuery("link#garamond").remove(),jQuery("link#georgia").remove(),jQuery("link#helvetica").remove(),jQuery("link#lucida_grande").remove(),jQuery("link#palatino").remove(),jQuery("link#tahoma").remove(),jQuery("link#times").remove(),jQuery("link#trebuchet_ms").remove(),jQuery("link#verdana").remove(),jQuery("link#open_sans_condensed").remove(),jQuery("div.nex-forms-container .edit_mask").remove(),jQuery("div.admin_html").html(jQuery("div.nex-forms-container").html()),jQuery("div.clean_html").html(jQuery("div.nex-forms-container").html()),jQuery("div.clean_success_html").html(jQuery("div.nex-forms-msg-container").html()),jQuery("div.clean_success_admin_html").html(jQuery("div.nex-forms-msg-container").html());var r=nf_cleanup_ui_html(jQuery("div.clean_html")),i=nf_cleanup_admin_html(jQuery("div.admin_html")),n=nf_cleanup_ui_html(jQuery("div.clean_success_html")),o=nf_cleanup_admin_html(jQuery("div.clean_success_admin_html"));jQuery(".hidden_fields_setup .hidden_fields .hidden_field").each(function(){jQuery(this).find("input.field_name").val(),jQuery(this).find("input.field_value").val(),0});var l=[];jQuery(".hidden_fields_setup .hidden_fields .hidden_field").each(function(){l.push({field_name:jQuery(this).find("input.field_name").val(),field_value:jQuery(this).find("input.field_value").val()})});var u="";jQuery(".mc_field_map .mc-form-field").each(function(){u+=jQuery(this).attr("data-field-tag"),u+="[split]",u+=jQuery(this).find("select").attr("data-selected"),u+="[end]"});var d="";jQuery(".gr_field_map .gr-form-field").each(function(){d+=jQuery(this).attr("data-field-tag"),d+="[split]",d+=jQuery(this).find("select").attr("data-selected"),d+="[end]"});var c="";jQuery(".mp_field_map .mp-form-field").each(function(){c+=jQuery(this).attr("data-field-tag"),c+="[split]",c+=jQuery(this).find("select").attr("data-selected"),c+="[end]"});var m="";jQuery(".ms_field_map .ms-form-field").each(function(){m+=jQuery(this).attr("data-field-tag"),m+="[split]",m+=jQuery(this).find("select").attr("data-selected"),m+="[end]"});var p="";jQuery(".ftp_reponse_setup .ftp-attr").each(function(){p+=jQuery(this).attr("data-field-tag"),p+="[split]",p+=jQuery(this).find("select").attr("data-selected"),p+="[end]"}),jQuery(".ftp_reponse_setup .ftp-form-field").each(function(){p+=jQuery(this).attr("data-field-tag"),p+="[split]","post_content"==jQuery(this).attr("data-field-tag")?p+=jQuery("#ftp_content").val():p+=jQuery(this).find("select").attr("data-selected"),p+="[end]"});var _,f="";jQuery(".set_rules .new_rule").each(function(e){f+="[start_rule]",f+="[operator]",f+=jQuery(this).find('select[name="selector"]').val()+"##"+jQuery(this).find('select[name="reverse_actions"] option:selected').val(),f+="[end_operator]",f+="[conditions]",jQuery(this).find(".get_rule_conditions .the_rule_conditions").each(function(e){f+="[new_condition]",f+="[field]",f+=jQuery(this).find(".cl_field").attr("data-selected"),f+="[end_field]",f+="[field_condition]",f+=jQuery(this).find('select[name="field_condition"]').val(),f+="[end_field_condition]",f+="[value]",f+=jQuery(this).find('input[name="conditional_value"]').val(),f+="[end_value]",f+="[end_new_condition]"}),f+="[end_conditions]",f+="[actions]",jQuery(this).find(".get_rule_actions .the_rule_actions").each(function(e){f+="[new_action]",f+="[the_action]",f+=jQuery(this).find('select[name="the_action"]').val(),f+="[end_the_action]",f+="[field_to_action]",f+=jQuery(this).find('select[name="cla_field"]').attr("data-selected"),f+="[end_field_to_action]",f+="[to_value]",f+=jQuery(this).find('input[name="action_value_to"]').val(),f+="[end_to_value]",f+="[end_new_action]"}),f+="[end_actions]",f+="[end_rule]"}),_=0<jQuery(".set_rules .new_rule").size()?[]:"";jQuery(".set_rules .new_rule").each(function(e){var t=[],a=[];jQuery(this).find(".get_rule_conditions .the_rule_conditions").each(function(e){jQuery(this).find(".input-group")&&jQuery(this).find("select.cl_field").val()&&"0"!=jQuery(this).find("select.cl_field").val()&&jQuery(this).find('select[name="field_condition"]').val()&&"0"!=jQuery(this).find('select[name="field_condition"]').val()&&a.push({field_Id:jQuery(this).find(".cl_field option:selected").attr("data-field-id"),field_name:jQuery(this).find(".cl_field option:selected").attr("data-field-name"),field_type:jQuery(this).find(".cl_field option:selected").attr("data-field-type"),condition:jQuery(this).find('select[name="field_condition"]').val(),condition_value:jQuery(this).find('input[name="conditional_value"]').val(),selected_value:jQuery(this).find(".cl_field").attr("data-selected")})}),jQuery(this).find(".get_rule_actions .the_rule_actions").each(function(e){jQuery(this).find(".input-group")&&(jQuery("#"+jQuery(this).find('select[name="cla_field"] option:selected').attr("data-field-id")).hasClass("step")&&"show"==jQuery(this).find('select[name="the_action"]').val()&&r.find("#"+jQuery(this).find('select[name="cla_field"] option:selected').attr("data-field-id")).hide().addClass("hidden_by_logic").removeClass("step"),"show"==jQuery(this).find('select[name="the_action"]').val()&&r.find("#"+jQuery(this).find('select[name="cla_field"] option:selected').attr("data-field-id")).hide().addClass("hidden"),jQuery(this).find('select[name="cla_field"]').val()&&"0"!=jQuery(this).find('select[name="cla_field"]').val()&&jQuery(this).find('select[name="the_action"]').val()&&"0"!=jQuery(this).find('select[name="the_action"]').val()&&t.push({target_field_Id:jQuery(this).find('select[name="cla_field"] option:selected').attr("data-field-id"),target_field_name:jQuery(this).find('select[name="cla_field"] option:selected').attr("data-field-name"),target_field_type:jQuery(this).find('select[name="cla_field"] option:selected').attr("data-field-type"),do_action:jQuery(this).find('select[name="the_action"]').val(),selected_value:jQuery(this).find('select[name="cla_field"]').attr("data-selected"),change_value:jQuery(this).find('input[name="action_value_to"]').val()}))}),0<a.length&&0<t.length&&_.push({operator:jQuery(this).find('select[name="selector"]').val(),reverse_actions:jQuery(this).find('select[name="reverse_actions"] option:selected').val(),conditions:a,actions:t})});var h="";jQuery(".paypal_products .paypal_product").each(function(e){h+="[start_product]",h+="[item_name]",h+=jQuery(this).find('input[name="item_name"]').val(),h+="[end_item_name]",h+="[item_qty]",h+=jQuery(this).find('input[name="item_quantity"]').val(),h+="[end_item_qty]",h+="[map_item_qty]",h+=jQuery(this).find('select[name="map_item_quantity"]').val(),h+="[end_map_item_qty]",h+="[set_quantity]",h+=jQuery(this).find('input[name="set_quantity"]').val(),h+="[end_set_quantity]",h+="[item_amount]",h+=jQuery(this).find('input[name="item_amount"]').val(),h+="[end_item_amount]",h+="[map_item_amount]",h+=jQuery(this).find('select[name="map_item_amount"]').val(),h+="[end_map_item_amount]",h+="[set_amount]",h+=jQuery(this).find('input[name="set_amount"]').val(),h+="[end_set_amount]",h+="[end_product]"}),jQuery(".current_id").text("");var y=jQuery(".nf_ms_breadcrumb").clone();r.find(".step").size()<2&&y.find("ol").addClass("hidden"),y.find("ul.show_all_steps").remove(),y.find("li.new_step").remove(),y.find("li").removeClass("current"),y.find("li").removeClass("visited"),y.find("li").first().addClass("current"),y.find(".bc_settings").remove();var j=jQuery(".multi-step-stepping").clone();j.find("li").removeClass("current"),j.find("li:eq(0)").addClass("current");var Q=[];Q.push({theme_name:jQuery('select[name="md_theme_selection"]').val(),theme_shade:jQuery(".workspace_theme_dark").hasClass("active")?"dark":"light",overall_font:jQuery("#google_fonts_overall").attr("data-selected"),field_spacing:jQuery("#field_spacing").val(),overall_label_font:jQuery("#google_fonts_lable").attr("data-selected"),overall_label_font_size:jQuery("#label_font_size").val(),overall_label_align:jQuery(".overall-fields-styling-settings .o-label-text-align.active").attr("data-style-tool"),overall_label_color:jQuery(".o-label-color").val(),overall_label_bold:jQuery(".o-label-bold").hasClass("active")?"bold":"not-bold",overall_label_italic:jQuery(".o-label-italic").hasClass("active")?"italic":"not-italic",overall_label_underline:jQuery(".o-label-underline").hasClass("active")?"underline":"not-underline",overall_input_font:jQuery("#google_fonts_input").attr("data-selected"),overall_input_font_size:jQuery("#input_font_size").val(),overall_input_align:jQuery(".overall-fields-styling-settings .o-input-text-align.active").attr("data-style-tool"),overall_input_color:jQuery(".o-input-color").val(),overall_input_bg_color:jQuery(".o-input-bg-color").val(),overall_input_border_color:jQuery(".o-input-border-color").val(),overall_input_bold:jQuery(".o-input-bold").hasClass("active")?1:0,overall_input_italic:jQuery(".o-input-italic").hasClass("active")?1:0,overall_input_underline:jQuery(".o-input-underline").hasClass("active")?1:0,overall_field_layout:jQuery(".overall-fields-styling-settings .set_layout.active").attr("data-style-tool"),overall_field_corners:jQuery(".overall-fields-styling-settings .overall-input-corners .btn.active").attr("data-style-tool"),overall_icon_font_size:jQuery("#icon_font_size").val(),overall_icon_color:jQuery(".o-icon-text-color").val(),overall_icon_bg_color:jQuery(".o-icon-bg-color").val(),overall_icon_border_color:jQuery(".o-icon-brd-color").val(),overall_field_errors:jQuery(".overall-fields-styling-settings .overall-error-style .btn.active").attr("data-style-tool"),overall_field_errors_pos:jQuery(".overall-fields-styling-settings .overall-error-position .btn.active").attr("data-style-tool"),msg_hide_form:jQuery(".msg_hide_form").attr("data-value"),msg_position:jQuery(".msg_position").attr("data-value"),msg_placement:jQuery(".msg_placement").attr("data-value"),loader_type:jQuery(".loader-type").attr("data-value"),loader_color:jQuery(".loader-color").attr("data-value")});var v=[];v.push({multi_step_total:jQuery(".nex-forms-container .form_field.step").size(),multi_step_stepping:j.html(),multi_step_transition_in:jQuery("select#step_in_transition_animation").attr("data-selected"),multi_step_transition_out:jQuery("select#step_out_transition_animation").attr("data-selected"),multi_step_back_disabled:jQuery(".disable_back").attr("data-value"),breadcrumb_list:jQuery(".nf_ms_breadcrumb ul").html(),breadcrumb_type:jQuery(".nf_ms_breadcrumb ul").attr("data-breadcrumb-type"),text_pos:jQuery(".nf_ms_breadcrumb ul").attr("data-text-pos"),crumb_align:jQuery(".nf_ms_breadcrumb ul").attr("data-align-crumb"),bc_position:jQuery(".bc_position").attr("data-value"),data_theme:jQuery(".nf_ms_breadcrumb ul").attr("data-theme"),show_front_end:jQuery(".nf_ms_breadcrumb ul").attr("data-show-front-end"),show_inside:jQuery(".nf_ms_breadcrumb ul").attr("data-show-inside"),scroll_to_top:jQuery(".nf_step_scroll_top").text(),form_width_pixels:jQuery(".ui-nex-forms-container").attr("data-width-pixels"),form_width_percentage:jQuery(".ui-nex-forms-container").attr("data-width-percentage"),form_width_unit:jQuery(".ui-nex-forms-container").attr("data-width-unit"),msg_width_pixels:jQuery(".nex-forms-msg-container").attr("data-width-pixels"),msg_width_percentage:jQuery(".nex-forms-msg-container").attr("data-width-percentage"),msg_width_unit:jQuery(".nex-forms-msg-container").attr("data-width-unit"),bc_gutter:jQuery("#bc-gutter").val(),bc_folded:jQuery(".bc_folded").attr("data-value"),bc_connected:jQuery(".bc_connected").attr("data-value"),bc_style:jQuery(".bc_style_selection").attr("data-selected"),bc_css:jQuery(".nf_ms_breadcrumb").attr("style"),bc_converted:1,add_timer:jQuery(".add-timer").attr("data-value"),timer_add_to:jQuery(".timer-add-to").attr("data-value"),timer_type:jQuery(".timer-type").attr("data-value"),enabled_units:jQuery(".enabled_units").attr("data-value"),timer_size:jQuery(".timer-size").attr("data-value"),timer_position:jQuery(".timer-position").attr("data-value"),timer_align:jQuery(".timer-align").attr("data-value"),timer_animation:jQuery(".timer-animation").attr("data-value"),timer_hours:jQuery("#timer_hours").val()?jQuery("#timer_hours").val():0,timer_minutes:jQuery("#timer_minutes").val()?jQuery("#timer_minutes").val():0,timer_seconds:jQuery("#timer_seconds").val()?jQuery("#timer_seconds").val():0,timer_hours_label:jQuery("#timer_hours_label").val()?jQuery("#timer_hours_label").val():"",timer_minutes_label:jQuery("#timer_minutes_label").val()?jQuery("#timer_minutes_label").val():"",timer_seconds_label:jQuery("#timer_seconds_label").val()?jQuery("#timer_seconds_label").val():"",timer_hours_color:jQuery("#timer_hours_color").val()?jQuery("#timer_hours_color").val():"",timer_minutes_color:jQuery("#timer_minutes_color").val()?jQuery("#timer_minutes_color").val():"",timer_seconds_color:jQuery("#timer_seconds_color").val()?jQuery("#timer_seconds_color").val():"",timer_direction:jQuery(".timer-direction").attr("data-value"),timer_wrapper_css:jQuery(".timer-inner-container").attr("style"),timer_text_color:jQuery("#timer_text_color").val()?jQuery("#timer_text_color").val():"#888",timer_inner_circle_color:jQuery("#timer_inner_circle_color").val()?jQuery("#timer_inner_circle_color").val():"#aaa",timer_bg_width:jQuery("#timer_bg_width").val()?jQuery("#timer_bg_width").val():.1,timer_fg_width:jQuery("#timer_fg_width").val()?jQuery("#timer_fg_width").val():.05,timer_start:jQuery("#timer_start").val()?jQuery("#timer_start").val():0,timer_end:jQuery("#timer_end").val()?jQuery("#timer_end").val():0});var g=[];g.push({save_form_progress:jQuery('input[name="save_form_progress"]:checked').val(),submit_limit:jQuery('input[name="submit_limit"]').val(),submit_limit_msg:jQuery('textarea[name="submit_limit_msg"]').val(),send_admin_email:jQuery('input[name="send_admin_email"]:checked').val()?jQuery('input[name="send_admin_email"]:checked').val():"true",before_submit_js:js_editor_before.codemirror.getValue()?js_editor_before.codemirror.getValue():"return true;",after_submit_js:js_editor_after.codemirror.getValue()?js_editor_after.codemirror.getValue():"return true;"});var b=[];b.push({upload_to_server:jQuery('input[name="upload_to_server"]:checked').val()});var C=[];C.push({attach_to_user_email:jQuery('input[name="attach_to_user_email"]:checked').val(),attach_to_admin_email:jQuery('input[name="attach_to_admin_email"]:checked').val()});var x="nf_insert_record";(jQuery("#form_update_id").text()||e)&&(x="nf_update_record"),"preview"==t&&(x="preview_nex_form"),"draft"==t&&(x="nf_update_draft");var k="";"1"==jQuery('input[name="mc_integration"]:checked').val()&&(k+="mc,"),"1"==jQuery('input[name="gr_integration"]:checked').val()&&(k+="gr,"),"1"==jQuery('input[name="mp_integration"]:checked').val()&&(k+="mp,"),"1"==jQuery('input[name="ms_integration"]:checked').val()&&(k+="ms,");var w="";"1"==jQuery('input[name="pdf_admin_attach"]:checked').val()&&(w+="admin,"),"1"==jQuery('input[name="pdf_user_attach"]:checked').val()&&(w+="user,");var q="";"1"==jQuery('input[name="email_on_payments"]:checked').val()&&(q+="payments,"),"1"==jQuery('input[name="email_on_failures"]:checked').val()&&(q+="failures,"),"1"==jQuery('input[name="email_before_payments"]:checked').val()&&(q+="before_payments,"),jQuery(".ui-nex-forms-container .jq-radio-group input").checkboxradio(),jQuery(".ui-nex-forms-container .jq-check-group input").checkboxradio(),jQuery(".ui-nex-forms-container .jq-datepicker input").datepicker(),jQuery('input[name="nex_autoresponder_recipients"]').trigger("change"),jQuery('input[name="nex_autoresponder_from_address"]').trigger("change"),jQuery('input[name="nex_autoresponder_from_name"]').trigger("change");var z,T={action:x,table:"wap_nex_forms",edit_Id:e||jQuery("#form_update_id").text().trim(),plugin:"shared",title:jQuery("#form_name").val(),form_fields:i.html(),clean_html:r.html(),is_form:t,is_template:"0",post_type:jQuery('input[name="form_post_method"]:checked').val(),post_action:jQuery('input[name="form_post_action"]:checked').val(),custom_url:jQuery("#on_form_submission_custum_url").val(),mail_to:jQuery('input[name="nex_autoresponder_recipients"]').val(),from_address:jQuery('input[name="nex_autoresponder_from_address"]').val(),from_name:jQuery('input[name="nex_autoresponder_from_name"]').val(),on_screen_confirmation_message:n.html(),on_screen_confirmation_message_admin:o.html(),google_analytics_conversion_code:jQuery("#google_analytics_conversion_code").val(),confirmation_page:jQuery("#nex_autoresponder_confirmation_page").val(),user_email_field:jQuery("#nex_autoresponder_user_email_field").attr("data-selected"),confirmation_mail_subject:jQuery("#nex_autoresponder_confirmation_mail_subject").val(),user_confirmation_mail_subject:jQuery("#nex_autoresponder_user_confirmation_mail_subject").val(),confirmation_mail_body:jQuery("#user_email_body_content").val(),on_form_submission:jQuery('input[name="on_form_submission"]:checked').val(),form_hidden_fields:0<l.length?l:"",hidden_fields:0<l.length?l:"",conditional_logic:f,conditional_logic_array:_,admin_email_body:jQuery("#admin_email_body_content").val(),bcc:jQuery("#nex_admin_bcc_recipients").val(),bcc_user_mail:jQuery("#nex_autoresponder_bcc_recipients").val(),custom_css:css_editor.codemirror.getValue()?css_editor.codemirror.getValue():"",is_paypal:jQuery('input[name="go_to_paypal"]:checked').val(),form_type:jQuery(".form_attr .form_type").text(),draft_Id:0,products:h,currency_code:jQuery('.paypal-column select[name="currency_code"]').val()?jQuery('.paypal-column select[name="currency_code"]').val():"USD",business:jQuery('.paypal-column input[name="business"]').val(),paypal_client_Id:jQuery('.paypal-column input[name="paypal_client_Id"]').val(),paypal_client_secret:jQuery('.paypal-column input[name="paypal_client_secret"]').val(),payment_success_msg:jQuery('.paypal-column textarea[name="payment_success_msg"]').val(),payment_failed_msg:jQuery('.paypal-column textarea[name="payment_failed_msg"]').val(),email_on_payment_success:q,cmd:"_cart",return_url:jQuery('.paypal-column input[name="return"]').val(),cancel_url:jQuery('.paypal-column input[name="cancel_url"]').val(),lc:jQuery('.paypal-column select[name="paypal_language_selection"]').val()?jQuery('.paypal-column select[name="paypal_language_selection"]').val():"US",environment:jQuery('input[name="paypal_environment"]:checked').val(),mc_field_map:u,mc_list_id:jQuery('select[name="mail_chimp_lists"]').attr("data-selected"),gr_field_map:d,gr_list_id:jQuery('select[name="get_response_lists"]').attr("data-selected"),mp_field_map:c,mp_list_id:jQuery('select[name="mailpoet_lists"]').attr("data-selected"),ms_field_map:m,ms_list_id:jQuery('select[name="mailster_lists"]').attr("data-selected"),email_subscription:k,pdf_html:jQuery("#pdf_html").val(),attach_pdf_to_email:w,form_to_post_map:p,is_form_to_post:jQuery('.ftp_reponse_setup input[name="ftp_integration"]:checked').val(),md_theme:Q,form_theme:jQuery(".set_form_theme").attr("data-selected"),jq_theme:jQuery(".choose_form_theme").attr("data-selected"),form_style:jQuery(".nex-forms-container").attr("style"),msg_style:jQuery(".nex-forms-msg-container").attr("style"),multistep_settings:v,multistep_html:y.html(),upload_settings:b,attachment_settings:C,option_settings:g};a?a.hasClass("is_template")&&(T.is_form="0",T.is_template="1",T.action="nf_insert_record","template"==jQuery("#form_type").text()&&(T.action="nf_update_record"),z="1"):("template"==jQuery("#form_type").text()&&(T.action="nf_insert_record"),z=T.is_template="0"),jQuery(".form_preview_loader").show(),a&&a.html(),clearTimeout(timer),jQuery.post(ajaxurl,T,function(e){jQuery(".ns").remove(),"preview"==t?(jQuery(".show_form_preview").attr("src",jQuery(".admin_url").text()+"/admin.php?page=nex-forms-preview&form_Id="+e),a&&a.html(s),setTimeout(function(){jQuery(".form_preview_loader").hide()},3e3),jQuery("div.clean_html").html("")):(jQuery("div.clean_html").html(""),jQuery("div.admin_html").html(""),"1"==z?(popup_user_alert("Template Saved"),jQuery(".save_nex_form.is_template").removeClass("saving").html("Update Template")):jQuery("#form_update_id").text()?"template"==jQuery("#form_type").text()?(popup_user_alert("New Form Created"),jQuery(".save_nex_form.is_template").removeClass("saving").html("Save as template")):(jQuery(".prime_save").removeClass("saving"),jQuery(".prime_save").parent().addClass("flip_btn"),jQuery(".prime_save").html('<span class="top-icon fas fa-save"></span><span class="menu-text">SAVED!</span>'),setTimeout(function(){jQuery(".prime_save").html('<span class="top-icon fas fa-save"></span><span class="menu-text">SAVE</span>')},2e3)):(popup_user_alert("New Form Created"),jQuery(".prime_save").html('<span class="fa fa-floppy-o"></span>&nbsp;&nbsp;UPDATE')),e&&(z&&0!=z&&"draft"==t||jQuery("#form_update_id").text(e.trim()),jQuery(".check_save").removeClass("not_saved")))})}function nf_cleanup_admin_html(e){return e.find(".batch_edit").removeClass("batch_edit_sim"),e.find(".batch_edit").removeClass("batch_edit"),e.find(".change_image").remove(),e.find(".bootstrap-datetimepicker-widget").remove(),e.find(".change_image2").remove(),e.find(".c_logic_field_type").remove(),e.find(".adv_arrow").remove(),e.find(".adv_target").remove(),e.find(".cl_arrow").remove(),e.find(".currently_editing_field").removeClass("currently_editing_field"),e.find(".edit-done").remove(),e.find(".currently_editing_settings").remove(),e.find(".grid-width-slider").remove(),e.find(".column_tools").remove(),e.find(".the-image-container .ui-resizable-handle").remove(),e.find(".the-image-container img").unwrap(),e.find(".form_field.field_spacer .ui-resizable-handle").remove(),e.find(".form_field.field_spacer").attr("class","form_field field_spacer"),e.find(".form_field").css("visibility",""),e.find(".form_field").css("display",""),e.find(".btn-lg.move_field").remove(),e.find("#slider").html(""),e.find("#slider").html(""),e.find(".the-thumb").removeClass("text-danger").removeClass("text-success").removeClass("checked"),e.find(".js-signature canvas").remove(),e.find("#star").html(""),e.find(".bootstrap-touchspin-postfix").remove(),e.find(".bootstrap-touchspin .input-group-btn").remove(),e.find(".bootstrap-touchspin .input-group-btn-vertical").remove(),e.find(".bootstrap-tagsinput").remove(),e.find("#spinner").unwrap(),e.find(".bootstrap-tagsinput").remove(),e.find(".popover").remove(),e.find("div.cd-dropdown").remove(),e.find(".form_field").removeClass("edit-field").removeClass("currently_editing"),e.find(".bootstrap-select").remove(),e.find(".popover").remove(),e.find(".step").removeClass("active_step"),e.find(".step").hide(),e.find(".step").first().show(),e}function nf_cleanup_ui_html(t){return t.find(".batch_edit").removeClass("batch_edit_sim"),t.find(".batch_edit").removeClass("batch_edit"),t.find(".change_thumb").remove(),t.find(".bootstrap-datetimepicker-widget").remove(),t.find(".form_field.date input").removeAttr("value"),t.find(".c_logic_field_type").remove(),t.find(".cl_arrow").remove(),t.find(".adv_arrow").remove(),t.find(".adv_target").remove(),t.find(".the-image-container .ui-resizable-handle").remove(),t.find(".the-image-container img").unwrap(),t.find(".the-image-container .show-width").remove(),t.find(".the-image-container .show-height").remove(),t.find(".the-image-container .change_image").remove(),t.find(".the-image-container .change_image2").remove(),t.find(".the-image-container img").unwrap(),t.find(".field_settings").remove(),t.find(".currently_editing_settings").remove(),t.find(".column_tools").remove(),t.find(".grid-width-slider").remove(),t.find(".field_spacer").html(""),t.find(".field_spacer").attr("class","field_spacer"),t.find(".form_field").css("visibility",""),t.find(".form_field").css("display",""),t.find(".btn-lg.move_field").remove(),t.find("#star").raty("destroy"),t.find(".the-thumb").removeClass("text-danger").removeClass("text-success").removeClass("checked"),t.find(".js-signature canvas").remove(),t.find(".zero-clipboard, div.ui-nex-forms-container .field_settings").remove(),t.find(".grid").removeClass("grid-system"),t.find(".editing-field-container").removeClass(".editing-field-container"),t.find(".bootstrap-touchspin-prefix").remove(),t.find(".bootstrap-touchspin-postfix").remove(),t.find(".bootstrap-touchspin .input-group-btn").remove(),t.find(".bootstrap-touchspin .input-group-btn-vertical").remove(),t.find(".bootstrap-tagsinput").remove(),t.find("#spinner").unwrap(),t.find(".editing-field").removeClass("editing-field"),t.find(".editing-field-container").removeClass(".editing-field-container"),t.find("div.trash-can").remove(),t.find("div.draggable_object").hide(),t.find("div.draggable_object").remove(),t.find("div.form_field").removeClass("field").removeClass("currently_editing"),t.find(".zero-clipboard").remove(),t.find(".tab-pane").removeClass("tab-pane"),t.find(".help-block.hidden, .is_required.hidden").remove(),t.find(".has-pretty-child, .slider").removeClass("svg_ready"),t.find(".input-group").removeClass("date"),t.find(".popover").remove(),t.find(".the_input_element, .row, .svg_ready, .radio-inline").each(function(){jQuery(this).closest(".form_field").hasClass("image-choices-field")||(jQuery(this).parent().hasClass("input-inner")||jQuery(this).parent().hasClass("input_holder"))&&jQuery(this).unwrap()}),t.find(".form_field").each(function(){var e=jQuery(this);0<e.find(".input-group-addon.prefix").length?e.addClass("has_prefix_icon"):e.removeClass("has_prefix_icon"),0<e.find(".input-group-addon.postfix").length?e.addClass("has_postfix_icon"):e.removeClass("has_postfix_icon"),t.find(".customcon").each(function(){e.attr("id")!=jQuery(this).attr("data-target")||"show"!=jQuery(this).attr("data-action")&&"slideDown"!=jQuery(this).attr("data-action")&&"fadeIn"!=jQuery(this).attr("data-action")||t.find("#"+e.attr("id")).hide()})}),t.find("div").each(function(){jQuery(this).closest(".form_field").hasClass("image-choices-field")||(jQuery(this).parent().hasClass("svg_ready")||jQuery(this).parent().hasClass("form_object")||jQuery(this).parent().hasClass("input-inner"))&&jQuery(this).unwrap()}),t.find("div.form_field").each(function(){var e,t;(jQuery(this).hasClass("paragraph")||jQuery(this).hasClass("heading")||jQuery(this).hasClass("html")||jQuery(this).hasClass("math_logic"))&&(""==jQuery(this).find(".the_input_element").attr("data-original-math-equation")||(e=jQuery(this).find(".the_input_element").html())&&(t=e.replace("{math_result}",'<span class="math_result">0</span>'),jQuery(this).find(".the_input_element").html(t))),jQuery(this).parent().parent().hasClass("panel-default")&&!jQuery(this).parent().prev("div").hasClass("panel-heading")&&(jQuery(this).parent().unwrap(),jQuery(this).unwrap())}),t.find(".help-block").each(function(){jQuery(this).text()||jQuery(this).remove()}),t.find(".sub-text").each(function(){""==jQuery(this).text()&&(jQuery(this).parent().find("br").remove(),jQuery(this).remove())}),t.find(".label_container").each(function(){"none"==jQuery(this).css("display")&&jQuery(this).remove()}),t.find(".ui-draggable").removeClass("ui-draggable"),t.find(".ui-draggable-handle").removeClass("ui-draggable-handle"),t.find(".dropped").removeClass("dropped"),t.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.find(".ui-sortable").removeClass("ui-sortable-handle"),t.find(".ui-droppable").removeClass("ui-sortable-handle"),t.find(".over").removeClass("ui-sortable-handle"),t.find(".the_input_element.bs-tooltip").removeClass("bs-tooltip"),t.find(".bs-tooltip.glyphicon").removeClass("glyphicon"),t.find(".grid-system.panel").removeClass("panel-body"),t.find(".grid-system.panel").removeClass("panel"),t.find(".form_field.grid").removeClass("grid").removeClass("form_field").addClass("is_grid"),t.find(".grid-system").removeClass("grid-system"),t.find(".move_field").remove(),t.find(".input-group-addon.btn-file span").attr("class","fa fa-cloud-upload"),t.find(".input-group-addon.fileinput-exists span").attr("class","fa fa-close"),t.find(".checkbox-inline").addClass("radio-inline"),t.find(".check-group").addClass("radio-group"),t.find(".submit-button br").remove(),t.find(".submit-button small.svg_ready").remove(),t.find(".radio-group a, .check-group a").addClass("ui-state-default"),t.find(".is_grid .panel-body").removeClass("ui-widget-content"),t.find(".bootstrap-select.ui-state-default").removeClass("ui-state-default"),t.find(".selectpicker, .dropdown-menu.the_input_element").addClass("ui-state-default"),t.find(".selectpicker").removeClass("dropdown-toggle"),t.find(".is_grid .panel-body").removeClass("ui-widget-content"),t.find(".bootstrap-select.ui-state-default").removeClass("ui-state-default"),t.find(".is_grid .panel-body").removeClass("ui-sortable").removeClass("ui-droppable").removeClass("ui-widget-content").removeClass(""),t.find(".step").hide(),t.find(".step").first().show(),t.find(".step").removeClass("active_step"),t.find(".is_grid").css("z-index",""),t}jQuery("div.updated").remove(),jQuery(".update-nag").remove(),jQuery("div.error").remove(),window.onbeforeunload=confirmExit,jQuery(document).ready(function(){setTimeout(function(){nf_timer_rebuild("admin",jQuery(".nf-timer"),!1,"")},500),cm_settings_1.codeEditor.codemirror.mode="text/javascript",js_editor_before=wp.codeEditor.initialize(jQuery("#before_submit_js"),cm_settings_1.cm_settings),js_editor_after=wp.codeEditor.initialize(jQuery("#after_submit_js"),cm_settings_2.cm_settings),css_editor=wp.codeEditor.initialize(jQuery("#custom_css"),cm_settings_3.cm_settings),js_editor_before.codemirror.refresh(),js_editor_after.codemirror.refresh(),css_editor.codemirror.refresh(),jQuery(document).on("click","#custom-css-settings a",function(e){setTimeout(function(){css_editor.codemirror.refresh()},50)}),jQuery(document).on("click",".form_options",function(e){setTimeout(function(){js_editor_before.codemirror.refresh(),js_editor_after.codemirror.refresh()},50)}),jQuery(".new_item").removeClass("new_item"),jQuery(document).on("click",".html_fields .the_input_element",function(e){var t,a,s,r,i,n;e.ctrlKey||jQuery(this).find("#editing_text").attr("id")||(t=jQuery(this).html(),a=jQuery(this).outerHeight()+30,s=jQuery(this).css("font-size"),r=jQuery(this).attr("style"),i=t.replace(/<br>/gm,"\r\n"),jQuery(this).html(""),jQuery(this).append('<textarea class="editing_text" id="editing_text"></textarea>'),(n=jQuery(this).find("#editing_text")).attr("style",r),n.css("font-size",s),n.css("height",a+"px"),n.val(i),n.focus())}),jQuery(document).on("blur","#editing_text",function(){var e;jQuery(this).hasClass("context_open")||(e=jQuery(this).val().replace(/(\r\n|\n|\r)/gm,"<br>"),jQuery(this).parent().html(e))}),jQuery("body").on("click",":not(.nf_context_menu)",function(){jQuery(".nf_context_menu").removeClass("zoomIn"),jQuery(".nf_context_menu").addClass("zoomOut"),0<jQuery("#editing_text").size()&&(jQuery(".right_click_id").text(""),jQuery("#editing_text").removeClass("context_open"),jQuery("#editing_text").focus()),setTimeout(function(){jQuery(".nf_context_menu").removeClass("zoomOut"),jQuery(".nf_context_menu").removeClass("sim_edit"),jQuery(".nf_context_menu").hide()},400)});var e=jQuery(".nf_context_menu_1").detach();jQuery("#wpwrap").append(e),jQuery(document).on("contextmenu",'#set_html, #editing_text, .extra_form_attr input[type="text"], input[name="set_min_date"], input[name="set_max_date"]',function(e){dev||e.preventDefault(),set_context_id=jQuery(this).attr("id"),jQuery("#"+set_context_id).addClass("context_open"),jQuery("#"+set_context_id).trigger("keyup"),jQuery("#"+set_context_id).trigger("focus");var t="";jQuery('div.nex-forms-container div.form_field input[type="text"]').each(function(){"multi_step_name"!=jQuery(this).attr("name")&&"multi_step_icon"!=jQuery(this).attr("name")&&"multi_step_description"!=jQuery(this).attr("name")&&"multi_step_time_limit"!=jQuery(this).attr("name")&&"undefined"!=jQuery(this).attr("name")&&(t+='<li class="tab" data-tag="{{'+format_illegal_chars(jQuery(this).attr("name"))+'}}"><a href="#">'+unformat_name(jQuery(this).attr("name"))+"</a></option>")});var a="",s="";jQuery('div.nex-forms-container div.form_field input[type="radio"]').each(function(){(a=jQuery(this).attr("name"))!=s&&(t+='<li class="tab" data-tag="{{'+format_illegal_chars(jQuery(this).attr("name"))+'}}"><a href="#">'+unformat_name(jQuery(this).attr("name"))+"</a></option>"),s=a});var r="",i="";jQuery('div.nex-forms-container div.form_field input[type="checkbox"]').each(function(){(r=jQuery(this).attr("name"))!=i&&(t+='<li class="tab" data-tag="{{'+jQuery(this).attr("name")+'}}"><a href="#">'+unformat_name(jQuery(this).attr("name"))+"</a></option>"),i=r}),jQuery("div.nex-forms-container div.form_field select").each(function(){t+='<li class="tab" data-tag="{{'+jQuery(this).attr("name")+'}}"><a href="#">'+unformat_name(jQuery(this).attr("name"))+"</a></option>"}),jQuery("div.nex-forms-container div.form_field textarea").each(function(){jQuery(this).hasClass("editing_text")||(t+='<li class="tab" data-tag="{{'+format_illegal_chars(jQuery(this).attr("name"))+'}}"><a href="#">'+unformat_name(jQuery(this).attr("name"))+"</a></option>")}),jQuery(".nf_context_menu").hide(),jQuery(".nf_context_menu_1 ul").html(t),jQuery(".nf_context_menu_1").css("top",e.pageY+"px"),jQuery(".nf_context_menu_1").css("left",e.pageX-250+"px"),jQuery(".nf_context_menu_1").show(),jQuery(".nf_context_menu_1").addClass("animated_extra_fast"),jQuery(".nf_context_menu_1").addClass("zoomIn")}),jQuery(document).on("click",".nf_context_menu_1 ul li",function(){insertAtCaret(set_context_id,jQuery(this).attr("data-tag")),jQuery("#"+set_context_id).trigger("focus"),jQuery("#"+set_context_id).trigger("change"),jQuery("#"+set_context_id).trigger("keyup")});var t=jQuery(".nf_context_menu_2").detach();jQuery("#wpwrap").append(t),jQuery(document).on("contextmenu",".inner-canvas-container .form_field.batch_edit",function(e){dev||e.preventDefault(),jQuery(".nf_context_menu_2").removeClass("sim_edit"),(jQuery(e.target).closest(".form_field").hasClass("batch_edit_sim")||jQuery(e.target).hasClass("batch_edit_sim"))&&jQuery(".nf_context_menu_2").addClass("sim_edit"),set_context_id=jQuery(this).attr("id"),jQuery(".nf_context_menu").hide(),jQuery(".nf_context_menu_2").css("top",e.pageY+"px"),jQuery(".nf_context_menu_2").css("left",e.pageX-250+"px"),jQuery(".nf_context_menu_2").show(),jQuery(".nf_context_menu_2").addClass("animated_extra_fast"),jQuery(".nf_context_menu_2").addClass("zoomIn")}),jQuery(document).on("click",".nf_context_menu_2 ul li",function(){var e=jQuery(this).attr("data-action"),r=jQuery(this).attr("data-sec-action");"style"==e&&(jQuery(".nf_context_menu_2").hasClass("sim_edit")?jQuery(".inner-canvas-container .batch_edit_sim").first().find(".edit").trigger("click"):(jQuery(".form-canvas-area").attr("data-pre-class",".batch_edit"),jQuery(".overall-styling-btn").trigger("click"),jQuery("#overall-fields-styling a").trigger("click"))),"copy"==e&&nf_copy("batch_edit"),"cut"==e&&nf_cut("batch_edit"),"delete"==e&&jQuery(".inner-canvas-container .batch_edit").remove(),"required"==e&&jQuery(".inner-canvas-container .batch_edit").each(function(){var e,t,a,s=jQuery(this);s.hasClass("grid")||s.hasClass("html_fields")||s.hasClass("button_fields")||(e=jQuery(this).find(".the_input_element"),jQuery(this).find("label"),t=s.find(".label_container"),s.removeClass("required"),e.removeClass("required"),(s.hasClass("select")||s.hasClass("multi-select"))&&s.find("select").attr("data-required","false").removeClass("required"),a=(a=t.find(".the_label").html())&&(a=a.replace("* ","")).replace("*",""),"required"==r?(s.addClass("required"),e.addClass("required"),(s.hasClass("select")||s.hasClass("multi-select"))&&s.find("select").attr("data-required","true").addClass("required"),t.find(".the_label").html("*"+a)):t.find(".the_label").html(a))})});var a=jQuery(".nf_context_menu_3").detach();jQuery("#wpwrap").append(a),jQuery(document).on("contextmenu",".inner-canvas-container .form_field:not(.batch_edit)",function(e){dev||e.preventDefault(),jQuery(".field-target").removeClass("field-target"),jQuery(".col-target").removeClass("col-target"),jQuery(".step-target").removeClass("step-target"),jQuery(".nf_context_menu_3 li.paste-action").addClass("disabled"),jQuery(".nf_context_menu_3 li.paste-action-inside").addClass("disabled"),jQuery(".nf_context_menu_3 li.field-action").addClass("disabled"),jQuery(".nf_context_menu_3 li.required-action").addClass("disabled"),jQuery(".nf_context_menu_3 li.duplicate-action").addClass("disabled"),"editing_text"==jQuery(e.target).attr("id")||jQuery(e.target).closest(".form_field").hasClass("batch_edit")||(jQuery(e.target).hasClass("tab-pane")?jQuery(e.target).closest(".step").find(".panel-body").first().addClass("step-target"):jQuery(e.target).hasClass("panel-body")||jQuery(e.target).hasClass("column_tools")||jQuery(e.target).hasClass("panel")?jQuery(e.target).closest(".form_field").hasClass("is_panel")?jQuery(e.target).closest(".form_field").find(".panel-body").addClass("col-target"):0<jQuery(".over-column-tools").size()?jQuery(".over-column-tools").find(".panel-body").addClass("col-target"):jQuery(e.target).closest(".step").find(".panel-body").first().addClass("step-target"):(jQuery(".nf_context_menu_3 li.field-action").removeClass("disabled"),jQuery(".nf_context_menu_3 li.duplicate-action").removeClass("disabled"),jQuery(e.target).closest(".form_field").hasClass("grid")||jQuery(e.target).closest(".form_field").hasClass("html_fields")||jQuery(e.target).closest(".form_field").hasClass("button_fields")||jQuery(".nf_context_menu_3 li.required-action").removeClass("disabled")),jQuery(e.target).closest(".form_field").addClass("field-target"),0<batch_selection_array.length&&(jQuery(".nf_context_menu_3 li.paste-action").removeClass("disabled"),(0<jQuery(".col-target").size()||0<jQuery(".step-target").size())&&jQuery(".nf_context_menu_3 li.paste-action-inside").removeClass("disabled")),jQuery(".nf_context_menu").hide(),jQuery(".nf_context_menu_3").css("top",e.pageY+"px"),jQuery(".nf_context_menu_3").css("left",e.pageX-250+"px"),jQuery(".nf_context_menu_3").show(),jQuery(".nf_context_menu_3").addClass("animated_extra_fast"),jQuery(".nf_context_menu_3").addClass("zoomIn"))}),jQuery(document).on("click",".nf_context_menu_3 ul li:not(.disabled)",function(){var e,t,a,s,r=jQuery(this).attr("data-action"),i=jQuery(this).attr("data-sec-action");"paste-above"==r&&nf_paste("top","field-target","outside"),"paste-below"==r&&nf_paste("bottom","field-target","outside"),"paste-inside-top"==r&&(0<jQuery(".col-target").size()?nf_paste("top","col-target","inside"):0<jQuery(".step-target").size()?nf_paste("top","step-target","inside"):nf_paste("top",".inner-canvas-container","inside")),"paste-inside-bottom"==r&&(0<jQuery(".col-target").size()&&nf_paste("bottom","col-target","inside"),0<jQuery(".step-target").size()?nf_paste("bottom","step-target","inside"):nf_paste("bottom",".inner-canvas-container","inside")),"edit"==r&&jQuery(".field-target").find(".edit").trigger("click"),"duplicate"==r&&(0<jQuery(".step-target").size()?jQuery(".step-target").closest(".step").find(".step-controls .duplicate_field").trigger("click"):jQuery(".field-target").find(".duplicate_field").trigger("click")),"copy"==r&&nf_copy("field-target"),"cut"==r&&nf_cut("field-target"),"delete"==r&&(0<jQuery(".step-target").size()?jQuery(".step-target").closest(".step").find(".step-controls .delete").trigger("click"):0<jQuery(".col-target").size()?jQuery(".col-target").closest(".grid_input_holder").find(".delete-column").trigger("click"):jQuery(".inner-canvas-container .field-target").remove()),"required"==r&&((e=jQuery(".field-target")).hasClass("grid")||e.hasClass("html_fields")||e.hasClass("button_fields")||(t=jQuery(this).find(".the_input_element"),jQuery(this).find("label"),a=e.find(".label_container"),e.removeClass("required"),t.removeClass("required"),(e.hasClass("select")||e.hasClass("multi-select"))&&e.find("select").attr("data-required","false").removeClass("required"),s=(s=a.find(".the_label").html())&&(s=s.replace("* ","")).replace("*",""),"required"==i?(e.addClass("required"),t.addClass("required"),(e.hasClass("select")||e.hasClass("multi-select"))&&e.find("select").attr("data-required","true").addClass("required"),a.find(".the_label").html("*"+s)):a.find(".the_label").html(s))),jQuery(".field-target").removeClass("field-target"),jQuery(".col-target").removeClass("col-target"),jQuery(".step-target").removeClass("step-target")});var s=jQuery(".nf_context_menu_4").detach();jQuery("#wpwrap").append(s),jQuery(document).on("contextmenu",".inner-canvas-container",function(e){jQuery(".nf_context_menu_4 li.paste-action-inside").addClass("disabled"),jQuery(".nf_context_menu_4 li.undo-action").addClass("disabled"),jQuery(".nf_context_menu_4 li.redo-action").addClass("disabled"),0<batch_selection_array.length&&jQuery(".nf_context_menu_4 li.paste-action-inside").removeClass("disabled"),jQuery(".history_action.do_undo").hasClass("avialable")&&jQuery(".nf_context_menu_4 li.undo-action").removeClass("disabled"),jQuery(".history_action.do_redo").hasClass("avialable")&&jQuery(".nf_context_menu_4 li.redo-action").removeClass("disabled"),jQuery(e.target).hasClass("inner-canvas-container")&&(dev||e.preventDefault(),jQuery(".nf_context_menu").hide(),jQuery(".nf_context_menu_4").css("top",e.pageY+"px"),jQuery(".nf_context_menu_4").css("left",e.pageX-250+"px"),jQuery(".nf_context_menu_4").show(),jQuery(".nf_context_menu_4").addClass("animated_extra_fast"),jQuery(".nf_context_menu_4").addClass("zoomIn"))}),jQuery(document).on("click",".nf_context_menu_4 ul li:not(.disabled)",function(){var e=jQuery(this).attr("data-action");jQuery(this).attr("data-sec-action");"edit"==e&&(jQuery(".overall-styling-btn").trigger("click"),jQuery("#form-settings a").trigger("click")),"select-all"==e&&jQuery(".inner-canvas-container .form_field:not(.step)").addClass("batch_edit"),"deselect-all"==e&&(jQuery(".batch_edit").removeClass("batch_edit_sim"),jQuery(".batch_edit").removeClass("batch_edit")),"paste-inside-top"==e&&nf_paste("top",0,"outside"),"paste-inside-bottom"==e&&nf_paste("bottom",0,"outside"),"undo"==e&&nf_run_history("undo"),"redo"==e&&nf_run_history("redo")}),jQuery(".nex-forms-container .form_field.step").each(function(e,t){jQuery(this).attr("data-settings",".s-step");var a,s,r,i,n,o=jQuery(this).find(".zero-clipboard");o.hasClass("step_2piont0")||(console.log("running"),i=jQuery(this).attr("data-step-name")?jQuery(this).attr("data-step-name"):"",a=jQuery(this).attr("data-step-description")?jQuery(this).attr("data-step-description"):"",s=jQuery(this).attr("data-step-icon")?jQuery(this).attr("data-step-icon"):"",r=jQuery(this).attr("data-step-num")?jQuery(this).attr("data-step-num"):"",jQuery(this).attr("data-step-num-alias")&&jQuery(this).attr("data-step-num-alias"),n="",n+='<div class="ms-step-number-wrapper"><div class="ms-step-number">'+r+"</div></div>",n+='<div class="ms-step-expand-wrapper"><div class="ms-step-expand"><span class="fas fa-chevron-down"></span></div></div>',n+='<div class="row step-settings">',n+='<div class="col-xs-10">',n+='<div class="row">',n+='<div class="col-xs-3">',n+="<small>Icon</small>",n+='<div class="input-group input-group-sm">',n+='<div class="input-group-addon action-btn set_step_icon"><i class="'+s+'"></i></div>',n+='<input name="multi_step_icon" type="text" class="form-control" placeholder="Icon class" value="'+s+'">',n+="</div>",n+="</div>",n+='<div class="col-xs-4">',n+="<small>Title</small>",n+='<input name="multi_step_name" type="text" class="form-control" placeholder="Step '+(e+1)+' title" value="'+(i="&nbsp;"==i||"&nbsp; "==i||"  "==i||"  "==i?"":i)+'">',n+="</div>",n+='<div class="col-xs-5">',n+='<div class="step-description-container">',n+='<div class="description">',n+="<small>Description</small>",n+='<input name="multi_step_description" type="text" class="form-control" placeholder="Step '+(e+1)+' description" value="'+a+'">',n+="</div>",n+='<div class="set_time_limit">',n+="<small>Time Limit</small>",n+='<input name="multi_step_time_limit" type="text" class="form-control" placeholder="Seconds" value="'+(jQuery(this).attr("data-step-time-limit")?jQuery(this).attr("data-step-time-limit"):"")+'">',n+="</div>",n+="</div>",n+="</div>",n+="</div>",n+="</div>",n+='<div class="col-xs-2 step-controls">',n+='<div title="Delete Step" class="btn delete"><i class="fa fa-close"></i></div>',n+='<div title="Duplicate Step" class="btn duplicate_field"><i class="fa fa-files-o"></i></div>',n+='<div title="Edit Step" class="btn edit"><i class="fa fa-edit"></i></div>',n+="</div>",n+="</div>",o.html(n),o.addClass("step_2piont0"))}),jQuery(document).on("click",".ms-step-expand",function(){jQuery(this).hasClass("exanded")?(jQuery(this).removeClass("exanded"),jQuery(this).closest(".step").removeClass("is_expanded")):(jQuery(this).addClass("exanded"),jQuery(this).closest(".step").addClass("is_expanded"))}),jQuery(".nf_title br").remove(),jQuery(document).on("click",".close-preview",function(){jQuery(".form-canvas-area").removeClass("preview_view"),jQuery(".form-canvas-area").removeClass("split_view"),jQuery(".preview-tools .btn.workspace").removeClass("active"),jQuery(".preview-tools .btn.workspace.normal").addClass("active")}),jQuery(document).on("click",".preview-tools .btn.workspace_theme",function(){jQuery(".preview-tools .btn.workspace_theme").removeClass("active"),jQuery(this).addClass("active"),jQuery(".form-canvas-area").removeClass("dark"),"dark"==jQuery(this).attr("data-view")&&jQuery(".form-canvas-area").addClass("dark")}),jQuery(document).on("click",".preview-tools .btn.workspace",function(){jQuery(".preview-tools .btn.workspace").removeClass("active"),jQuery(this).addClass("active"),jQuery(".field-settings-column.open_sidenav  #close-settings").trigger("click"),jQuery(".overall-settings-column #close-settings").trigger("click"),jQuery(".conditional-logic-btn").removeClass("active"),jQuery(".conditional_logic_wrapper").removeClass("opened"),jQuery(".form_canvas").removeClass("conditional-logic-opened"),jQuery(".nex_forms_admin_page_wrapper").removeClass("conditional-logic-ui"),jQuery(".c_logic_field_type").remove(),jQuery(".inner-canvas-container").removeClass("active"),jQuery(".form-canvas-area").removeClass("form-editor-view"),jQuery(".form-canvas-area").removeClass("msg-editor-view"),jQuery(this).hasClass("c-logic")?jQuery(".conditional-logic-btn").trigger("click"):jQuery(this).hasClass("preview")?(jQuery(".form-canvas-area").hasClass("preview_view")||jQuery(".form-canvas-area").hasClass("split_view")||nf_save_nex_form("","preview",""),jQuery(".form-canvas-area").removeClass("preview_view"),jQuery(".form-canvas-area").removeClass("split_view"),jQuery(".form-canvas-area").addClass("preview_view")):jQuery(this).hasClass("split")?(jQuery(".form-canvas-area").hasClass("preview_view")||jQuery(".form-canvas-area").hasClass("split_view")||nf_save_nex_form("","preview",""),jQuery(".inner-form-canvas .inner-canvas-container").addClass("active"),jQuery(".inner-msg-canvas").hide(),jQuery(".inner-form-canvas").show(),jQuery("span.editor-form").show(),jQuery("span.editor-msg").hide(),jQuery(".form-canvas-area").removeClass("preview_view"),jQuery(".form-canvas-area").removeClass("split_view"),jQuery(".form-canvas-area").addClass("split_view"),get_overall_form_settings(jQuery(".nex-forms-container"))):jQuery(this).hasClass("success-msg")?(jQuery(".form-canvas-area").addClass("msg-editor-view"),jQuery(".inner-msg-canvas").show(),jQuery(".inner-form-canvas").hide(),jQuery("span.editor-form").hide(),jQuery("span.editor-msg").show(),jQuery(".nex-forms-msg-container").addClass("active"),jQuery(".form-canvas-area").attr("data-sec-pre-class",".inner-msg-canvas"),jQuery(".form-canvas-area").removeClass("preview_view"),jQuery(".form-canvas-area").removeClass("split_view"),get_overall_form_settings(jQuery(".nex-forms-msg-container"))):(jQuery("li.all_steps.current a").trigger("click"),jQuery(".form-canvas-area").addClass("form-editor-view"),jQuery(".inner-msg-canvas").hide(),jQuery(".inner-form-canvas").show(),jQuery("span.editor-form").show(),jQuery("span.editor-msg").hide(),jQuery(".nex-forms-container").addClass("active"),jQuery(".form-canvas-area").attr("data-sec-pre-class",".inner-form-canvas"),jQuery(".form-canvas-area").removeClass("preview_view"),jQuery(".form-canvas-area").removeClass("split_view"),get_overall_form_settings(jQuery(".nex-forms-container"))),jQuery(".form_canvas").trigger("focus")}),jQuery('[data-toggle="tooltip_bs"]:not(.group-addon-label)').tooltip_bs({delay:0,html:!0}),jQuery('[data-toggle="tooltip_bs2"]').tooltip_bs({delay:{show:500,hide:0},html:!0}),jQuery(".field-setting .btn").each(function(){jQuery(this).find("i").attr("title",jQuery(this).attr("title"))}),jQuery(".field-setting .btn i").tooltip_bs({delay:{show:200,hide:0},placement:"top",html:!0}),jQuery(document).on("change","#google_analytics_conversion_code",function(){var e=(e=jQuery(this).val()).replace('"',"'");jQuery("#google_analytics_conversion_code").val(e),jQuery(".nex-submit").attr("onclick",e)}),jQuery(document).on("click",".prime-menu .tabs_nf a",function(){jQuery(".prime-menu .tabs_nf .tab").removeClass("current"),jQuery(this).parent().addClass("current")}),jQuery(document).on("click",".tabs_nf a",function(){"yes"==jQuery("#demo_site").text()&&(jQuery("#admin_email_body_content_ifr").contents().find("body p").css("font-family","Arial").css("font-size","13px"),jQuery("#user_email_body_content_ifr").contents().find("body p").css("font-family","Arial").css("font-size","13px"),jQuery("#on_screen_message_ifr").contents().find("body p").css("font-family","Arial").css("font-size","13px"),jQuery("#pdf_html_ifr").contents().find("body p").css("font-family","Arial").css("font-size","13px"),jQuery("#ftp_content_ifr").contents().find("body p").css("font-family","Arial").css("font-size","13px"))}),jQuery(document).on("click",".form_attr_left_menu a",function(){jQuery(this).parent().parent().find("li").removeClass("active"),jQuery(this).parent().addClass("active")}),jQuery(document).on("click",".show-admin-email-setup",function(){jQuery(".tri-menu .admin_email_tab a").trigger("click")}),jQuery(document).on("click",".show-user-email-setup",function(){jQuery(".tri-menu .user_email_tab a").trigger("click")}),jQuery(document).on("click",".show_paypal_setup",function(){set_paypal_fields(),jQuery(".tri-menu .show_paypal_setup_menu_item a").trigger("click")}),jQuery(document).on("click",".show_pdf_setup",function(){jQuery(".tri-menu .show_pdf_setup_menu_item a").trigger("click")}),jQuery(document).on("click",".show_ftp_setup",function(){set_ftp_field_map(),jQuery(".tri-menu .show_ftp_setup_menu_item a").trigger("click")}),jQuery(document).on("click",".show_mc_setup",function(){set_mc_field_map(),jQuery(".tri-menu .show_mc_setup_menu_item a").trigger("click")}),jQuery(document).on("click",".show_gr_setup",function(){set_gr_field_map(),jQuery(".tri-menu .show_gr_setup_menu_item a").trigger("click")}),jQuery(document).on("click",".show_mp_setup",function(){set_mp_field_map(),jQuery(".tri-menu .show_mp_setup_menu_item a").trigger("click")}),jQuery(document).on("click",".show_ms_setup",function(){set_ms_field_map(),jQuery(".tri-menu .show_ms_setup_menu_item a").trigger("click")}),jQuery(document).on("click",".show_inline_embed",function(){set_paypal_fields(),jQuery(".tri-menu .show_inline_embed_menu_item a").trigger("click")}),jQuery(document).on("click",".show_popup_embed",function(){jQuery(".tri-menu .show_popup_embed_menu_item a").trigger("click")}),jQuery(document).on("click",".show_sticky_embed",function(){set_ftp_field_map(),jQuery(".tri-menu .show_sticky_embed_menu_item a").trigger("click")}),jQuery(document).on("click",".form_embed_tri_menu a",function(){jQuery(this).closest(".form_embed_tri_menu").find("li").removeClass("active"),jQuery(this).parent().addClass("active"),jQuery(this).closest(".embed").find(".form_embed_shortcode_display").hide(),jQuery(this).closest(".embed").find(".form_embed_shortcode_display."+jQuery(this).attr("data-shortcode")).show()}),jQuery(document).on("click",".shortcode_php .btn",function(){jQuery(".shortcode_php .btn").removeClass("active"),jQuery(this).addClass("active"),jQuery(this).hasClass("show_php")&&(jQuery(".form_embed_settings_wrapper .shortcode").hide(),jQuery(".form_embed_settings_wrapper .php").show()),jQuery(this).hasClass("show_shortcode")&&(jQuery(".form_embed_settings_wrapper .shortcode").show(),jQuery(".form_embed_settings_wrapper .php").hide())});var r=jQuery(".modal-container");function i(e){jQuery('select[name="popup_open_animation"] option').each(function(){e.removeClass(jQuery(this).attr("value"))}),jQuery('select[name="popup_close_animation"] option').each(function(){e.removeClass(jQuery(this).attr("value"))})}function n(){var e=jQuery("#form_update_id").text(),t='[NEXForms id="'+e+'"',a='&lt;?php NEXForms_ui_output(array("id"=>'+e;jQuery(".embed-form-style .btn.active").hasClass("conversational")&&(t+=' form_style="conversational"',a+=', "form_style"=>"conversational"'),jQuery(".embed-form-style .btn.active").hasClass("chat")&&(t+=' form_style="chat"',a+=', "form_style"=>"chat"'),jQuery(".form_embed_types a.active").hasClass("popup")&&(t+=' open_trigger="popup" ',a+=', "open_trigger"=>"popup"',jQuery(".embed-poppup-trigger .btn.active").hasClass("button")&&(t+=' type="button"',a+=', "type"=>"button"',t+=' text="'+jQuery("#set_popup_button_text").val()+'"',a+=', "text"=>"'+jQuery("#set_popup_button_text").val()+'"',t+=' button_color="'+jQuery(".embed-poppup-button-color .btn.active").attr("data-btn-class")+'"',a+=', "button_color"=>"'+jQuery(".embed-poppup-button-color .btn.active").attr("data-btn-class")+'"'),jQuery(".embed-poppup-trigger .btn.active").hasClass("link")&&(t+=' type="link"',a+=', "type"=>"link"',t+=' text="'+jQuery("#set_popup_link_text").val()+'"',a+=', "text"=>"'+jQuery("#set_popup_link_text").val()+'"'),jQuery(".embed-poppup-trigger .btn.active").hasClass("custom")&&(t+=' type="custom_trigger"',a+=', "type"=>"custom_trigger"',t+=' element_class="'+jQuery("#set_popup_custom_text").val()+'"',a+=', "element_class"=>"'+jQuery("#set_popup_custom_text").val()+'"'),jQuery(".embed-poppup-trigger .btn.active").hasClass("timer")&&(t+=' type="timer"',a+=', "type"=>"timer"',t+=' auto_popup_delay="'+jQuery("#set_popup_time").val()+'"',a+=', "auto_popup_delay"=>"'+jQuery("#set_popup_time").val()+'"'),jQuery(".embed-poppup-trigger .btn.active").hasClass("scroll")&&(t+=' type="scroll"',a+=', "type"=>"scroll"',t+=' auto_popup_scroll_top="'+jQuery("#set_popup_scroll_pos").val()+'"',a+=', "auto_popup_scroll_top"=>"'+jQuery("#set_popup_scroll_pos").val()+'"'),jQuery(".embed-poppup-trigger .btn.active").hasClass("exit")&&(t+=' type="exit"',a+=', "type"=>"exit"',t+=' exit_intent="1"',a+=', "exit_intent"=>"1"'),jQuery(".embed-popup-v-position .btn.active").hasClass("top")&&(t+=' v_position="top"',a+=', "v_position"=>"top"'),jQuery(".embed-popup-v-position .btn.active").hasClass("bottom")&&(t+=' v_position="bottom"',a+=', "v_position"=>"bottom"'),jQuery(".embed-popup-h-position .btn.active").hasClass("left")&&(t+=' h_position="left"',a+=', "h_position"=>"left"'),jQuery(".embed-popup-h-position .btn.active").hasClass("right")&&(t+=' h_position="right"',a+=', "h_position"=>"right"'),t+=' width="'+jQuery("#popup_width").val()+'"',a+=', "width"=>"'+jQuery("#popup_width").val()+'"',t+=' height="'+jQuery("#popup_height").val()+'"',a+=', "height"=>"'+jQuery("#popup_height").val()+'"',jQuery(".set_popup_bg.active").hasClass("use_form")&&(t+=' background="use-form-background"',a+=', "background"=>"use-form-background"'),jQuery(".set_popup_bg.active").hasClass("use_custom")&&(t+=' background="'+jQuery('input[name="popup-bg-color"]').val()+'"',a+=', "background"=>"'+jQuery('input[name="popup-bg-color"]').val()+'"'),"2"!=jQuery("#popup_padding_left").val()&&(t+=' padding_left="'+jQuery("#popup_padding_left").val()+'"',a+=', "padding_left"=>"'+jQuery("#popup_padding_left").val()+'"'),"2"!=jQuery("#popup_padding_right").val()&&(t+=' padding_right="'+jQuery("#popup_padding_right").val()+'"',a+=', "padding_right"=>"'+jQuery("#popup_padding_right").val()+'"'),"2"!=jQuery("#popup_padding_top").val()&&(t+=' padding_top="'+jQuery("#popup_padding_top").val()+'"',a+=', "padding_top"=>"'+jQuery("#popup_padding_top").val()+'"'),"2"!=jQuery("#popup_padding_bottom").val()&&(t+=' padding_bottom="'+jQuery("#popup_padding_bottom").val()+'"',a+=', "padding_bottom"=>"'+jQuery("#popup_padding_bottom").val()+'"'),t+=' open_animation="'+jQuery("#popup_open_animation").val()+'"',a+=', "open_animation"=>"'+jQuery("#popup_open_animation").val()+'"',t+=' close_animation="'+jQuery("#popup_close_animation").val()+'"',a+=', "close_animation"=>"'+jQuery("#popup_close_animation").val()+'"',r.css("padding-top",jQuery("#popup_padding_top").val()+"%"),r.css("padding-right",jQuery("#popup_padding_right").val()+"%"),r.css("padding-bottom",jQuery("#popup_padding_bottom").val()+"%"),r.css("padding-left",jQuery("#popup_padding_left").val()+"%"),r.css("width",jQuery("#popup_width").val()+"%"),r.css("height",jQuery("#popup_height").val()+"%"),r.css("top",Math.floor((100-jQuery("#popup_height").val())/2)+"%")),t+="]",a+="),true); ?&gt",jQuery(".form_embed_shortcode_display").hasClass("no_code")&&jQuery(".form_embed_types a.active").hasClass("popup")&&(a=t='<div class="alert alert-danger">Please register NEX-Forms to enable the use of Popup Forms. Dont have a registration code?<br><a href="http://codecanyon.net/item/nexforms-the-ultimate-wordpress-form-builder/7103891?license=regular&open_purchase_for_item_id=7103891&purchasable=source&ref=Basix" target="_blank">Get your code now</a></div>'),jQuery(".shortcode .embed_code").html(t),jQuery(".php .embed_code").html(a)}jQuery(document).on("click",".embed_tools.set_form_type .btn",function(){jQuery(".embed_tools.set_form_type .btn").removeClass("active"),jQuery(this).addClass("active"),jQuery(this).hasClass("popup")&&(jQuery(".form_embed_types a.popup").trigger("click"),jQuery(".embed-settings-column").addClass("open_sidenav")),jQuery(this).hasClass("inline")&&(jQuery(".form_embed_types a.inline").trigger("click"),jQuery(".embed-settings-column").removeClass("open_sidenav")),jQuery(this).hasClass("sticky")&&(jQuery(".embed-settings-column").removeClass("open_sidenav"),jQuery(".popup-previews").addClass("hidden"),jQuery(".button-preview").addClass("hidden"))}),jQuery(document).on("click",".embed_options",function(){n()}),jQuery(document).on("click",".form_embed_types a",function(){var e,t;n(),jQuery(".popup-previews").addClass("hidden"),jQuery(".button-preview").addClass("hidden"),jQuery(this).hasClass("popup")&&(jQuery(".popup-previews").removeClass("hidden"),jQuery(".embed-poppup-trigger .btn.active").hasClass("button")&&jQuery(".button-preview").removeClass("hidden"),e=jQuery(".nex-forms-container").css("background-color"),t=jQuery(".nex-forms-container").css("background-image"),", 0)"!=e.substring(e.length-4,e.length)||t&&"none"!=t?jQuery(".set_popup_bg.use_form").trigger("click"):jQuery(".set_popup_bg.use_custom").trigger("click"))}),jQuery(document).on("click",".embed-form-style .btn",function(){jQuery(".embed-form-style .btn").removeClass("active"),jQuery(this).hasClass("normal")&&jQuery(".embed-form-style .btn.normal").addClass("active"),jQuery(this).hasClass("conversational")&&jQuery(".embed-form-style .btn.conversational").addClass("active"),jQuery(this).hasClass("chat")&&jQuery(".embed-form-style .btn.chat").addClass("active"),n()}),jQuery(document).on("click",".embed-poppup-trigger .btn",function(){jQuery(".embed-poppup-trigger .btn").removeClass("active"),jQuery(this).addClass("active"),jQuery(".embed-button-text").addClass("hidden"),jQuery(".embed-link-text").addClass("hidden"),jQuery(".embed-custom-class").addClass("hidden"),jQuery(".embed-on-timer").addClass("hidden"),jQuery(".embed-on-scroll").addClass("hidden"),jQuery(".embed-poppup-button-color").addClass("hidden"),jQuery(".button-preview").addClass("hidden"),jQuery(this).hasClass("button")&&(jQuery(".embed-button-text").removeClass("hidden"),jQuery(".button-preview").removeClass("hidden"),jQuery(".embed-poppup-button-color").removeClass("hidden")),jQuery(this).hasClass("link")&&jQuery(".embed-link-text").removeClass("hidden"),jQuery(this).hasClass("custom")&&jQuery(".embed-custom-class").removeClass("hidden"),jQuery(this).hasClass("timer")&&jQuery(".embed-on-timer").removeClass("hidden"),jQuery(this).hasClass("scroll")&&jQuery(".embed-on-scroll").removeClass("hidden"),n()}),jQuery(document).on("click",".embed-poppup-button-color .btn",function(){jQuery(".embed-poppup-button-color .btn").removeClass("active"),jQuery(".popup-previews .btn").attr("class","btn md-btn "+jQuery(this).attr("data-btn-class")),jQuery(this).addClass("active"),n()}),jQuery(document).on("keyup","#set_popup_button_text",function(){jQuery(".popup-previews .btn").html(jQuery(this).val())}),jQuery(document).on("keyup","#set_popup_button_text, #set_popup_link_text, #set_popup_custom_text",function(){n()}),jQuery(document).on("click",".embed-popup-v-position .btn",function(){jQuery(".embed-popup-v-position .btn").removeClass("active"),jQuery(this).addClass("active"),jQuery(".modal-container").removeClass("v_center"),jQuery(".modal-container").removeClass("v_top"),jQuery(".modal-container").removeClass("v_bottom"),jQuery(this).hasClass("center")&&jQuery(".modal-container").addClass("v_center"),jQuery(this).hasClass("top")&&jQuery(".modal-container").addClass("v_top"),jQuery(this).hasClass("bottom")&&jQuery(".modal-container").addClass("v_bottom"),n()}),jQuery(document).on("click",".embed-popup-h-position .btn",function(){jQuery(".embed-popup-h-position .btn").removeClass("active"),jQuery(this).addClass("active"),jQuery(".modal-container").removeClass("h_center"),jQuery(".modal-container").removeClass("h_left"),jQuery(".modal-container").removeClass("h_right"),jQuery(this).hasClass("center")&&jQuery(".modal-container").addClass("h_center"),jQuery(this).hasClass("left")&&jQuery(".modal-container").addClass("h_left"),jQuery(this).hasClass("right")&&jQuery(".modal-container").addClass("h_right"),n()}),jQuery(document).on("click",".set_popup_bg",function(){jQuery(".set_popup_bg").removeClass("active"),jQuery(this).addClass("active"),jQuery('input[name="popup-bg-color"]').prop("disabled",!0),jQuery(this).hasClass("use_form")&&(jQuery(".popup-previews .modal-container").attr("style",jQuery(".nex-forms-container").attr("style")),jQuery(".popup-previews .modal-inner-container").removeAttr("style")),jQuery(this).hasClass("use_custom")&&(jQuery(".popup-previews .modal-container").removeAttr("style"),jQuery(".popup-previews .modal-container").css("background",jQuery('input[name="popup-bg-color"]').val()),jQuery(".popup-previews .modal-inner-container").attr("style",jQuery(".nex-forms-container").attr("style")),jQuery('input[name="popup-bg-color"]').prop("disabled",!1)),n()}),jQuery(document).on("click",".modal-container .close-preview",function(){i(r),r.addClass("animated"),r.addClass(jQuery("#popup_close_animation").val()),setTimeout(function(){i(r)},1e3)}),jQuery(document).on("click",".button-preview .btn",function(){i(r),r.addClass("animated"),r.addClass(jQuery("#popup_open_animation").val()),setTimeout(function(){i(r)},1e3)}),jQuery(document).on("change","#popup_open_animation, #popup_close_animation",function(){i(r),r.addClass("animated"),r.addClass(jQuery(this).val()),n(),setTimeout(function(){i(r)},1e3)}),jQuery("#popup_width").spinner({min:10,max:100,spin:function(e,t){jQuery(".modal-container").css("width",t.value+"%")},stop:function(e,t){n()}}).on("keyup",function(e){jQuery(".modal-container").css("width",jQuery(this).val()+"%"),n()}),jQuery("#popup_height").spinner({min:10,max:100,spin:function(e,t){jQuery(".modal-container").css("height",t.value+"%"),jQuery(".modal-container").css("top",Math.floor((100-t.value)/2)+"%")},stop:function(e,t){n()}}).on("keyup",function(e){jQuery(".modal-container").css("height",jQuery(this).val()+"%"),jQuery(".modal-container").css("top",Math.floor((100-jQuery(this).val())/2)+"%"),n()}),jQuery("#set_popup_time").spinner({min:0,spin:function(e,t){},stop:function(e,t){n()}}).on("keyup",function(e){n()}),jQuery("#set_popup_scroll_pos").spinner({min:0,spin:function(e,t){},stop:function(e,t){n()}}).on("keyup",function(e){n()}),jQuery(".popup-bg-color").ColorPickerSliders({placement:"bottom",hsvpanel:!0,previewformat:"hex",color:"#ffff",onchange:function(e,t){r.css("background","rgba("+t.rgba.r+","+t.rgba.g+","+t.rgba.b+","+t.rgba.a+")"),n()}}),jQuery("#popup_padding_top").spinner({min:0,spin:function(e,t){r.css("padding-top",t.value+"%")},stop:function(e,t){n()}}).on("keyup",function(e){r.css("padding-top",jQuery(this).val()+"%"),n()}),jQuery("#popup_padding_right").spinner({min:0,spin:function(e,t){r.css("padding-right",t.value+"%")},stop:function(e,t){n()}}).on("keyup",function(e){r.css("padding-right",jQuery(this).val()+"%"),n()}),jQuery("#popup_padding_bottom").spinner({min:0,spin:function(e,t){r.css("padding-bottom",t.value+"%")},stop:function(e,t){n()}}).on("keyup",function(e){r.css("padding-bottom",jQuery(this).val()+"%"),n()}),jQuery("#popup_padding_left").spinner({min:0,spin:function(e,t){r.css("padding-left",t.value+"%")},stop:function(e,t){n()}}).on("keyup",function(e){r.css("padding-left",jQuery(this).val()+"%"),n()}),jQuery(document).on("click",".show_on_submission_options",function(){jQuery(".tri-menu .on_submission_options_tab a").trigger("click")}),jQuery(document).on("click",".show_file_uploads_options",function(){jQuery(".tri-menu .file_uploads_options_tab a").trigger("click")}),jQuery(document).on("click",".show_hidden_fields",function(){jQuery(".tri-menu .hidden_fields_options_tab a").trigger("click")}),jQuery(".form_canvas .radio-inline").each(function(){jQuery(this).find(".check-icon").attr("class")&&jQuery(this).find("input").prop("checked",!0)}),jQuery(".form_canvas .image-choices-choice").each(function(){jQuery(this).find(".thumb-icon-holder").attr("class")&&jQuery(this).find("input").prop("checked",!0)}),jQuery(document).on("click",".the-radios a, .image-choices-choice-text, .the-thumb-image, .thumb-icon-holder, .the-radios .input-label, .the-radios span.check-icon",function(e){var t=jQuery(this).closest(".form_field");t.hasClass("classic-radio-group")||t.hasClass("classic-check-group")||e.preventDefault();var a,s,r=jQuery(this).closest("label"),i=r.find("input"),n=r.find("a:first"),o=r.closest("label"),l=jQuery(this).closest(".input_container"),u=l.attr("data-checked-animation")?l.attr("data-checked-animation"):"fadeInDown",d=l.attr("data-unchecked-animation")?l.attr("data-unchecked-animation"):"fadeOutUp";"radio"===i.prop("type")&&(t.find(".radio_selected").removeClass("radio_selected"),t.find("#the-radios a").css("background","#fff"),t.find(".check-icon").remove(),t.find(".thumb-icon-holder").remove(),n.hasClass("checked")||jQuery('input[name="'+i.attr("name")+'"]').each(function(e,t){jQuery(t).prop("checked",!1).parent().find("a:first").removeClass("checked").removeClass("ui-state-active").addClass("ui-state-default").removeClass(jQuery(t).closest(".the-radios").attr("data-checked-class")),n.attr("class","checked"),o.removeClass("radio_selected")})),i.prop("checked")?(i.prop("checked",!1),n.attr("class","ui-state-default"),n.css("background","#fff"),o.removeClass("radio_selected"),n.parent().find(".check-icon").remove(),r.find(".thumb-icon-holder .thumb-icon").removeClass(u),r.find(".thumb-icon-holder .thumb-icon").addClass(d),setTimeout(function(){r.find(".thumb-icon-holder").remove()},300)):(t.find(".thumb-icon-holder .thumb-icon").removeClass(d),t.find(".thumb-icon-holder .thumb-icon").addClass(u),a="#8bc34a",i.prop("checked",!0),n.attr("class","checked"),n.addClass("ui-state-active").removeClass("ui-state-default"),o.addClass("radio_selected"),n.closest(".the-radios").attr("data-checked-bg-color")&&""!=n.closest(".the-radios").attr("data-checked-bg-color")?(n.css("background",n.closest("#the-radios").attr("data-checked-bg-color")),a=n.closest("#the-radios").attr("data-checked-bg-color")):n.css("background","#8bc34a"),s="#ffffff","transparent"!=n.css("color")&&"undefined"!=n.css("color")&&""!=n.css("color")&&"rgba(0, 0, 0, 0)"!=n.css("color")&&(s=n.css("color")),t.hasClass("image-choices-field")?r.find(".thumb-image-outer-wrap").prepend('<div class="thumb-icon-holder"><span style="background: '+a+"; color:"+s+';" class="thumb-icon animated_fast '+u+" checked fa "+n.closest(".the-radios").attr("data-checked-class")+'"></span></div>'):n.after('<span style="color:'+s+';" class="check-icon checked fa '+n.closest(".the-radios").attr("data-checked-class")+'"></span>'),n.addClass("animated").addClass("pulse"),setTimeout(function(){n.removeClass("animated").removeClass("pulse")},1300)),i.trigger("change")}),jQuery(document).on("click",".resposive_tests i",function(){jQuery(".resposive_tests i").removeClass("active"),jQuery(this).addClass("active"),jQuery(".show_form_preview").css("height","calc(100% - 37px)"),jQuery(".preview_canvas").removeClass("preview_mobile"),jQuery(this).hasClass("laptop")?jQuery(".show_form_preview").css("width",""):jQuery(this).hasClass("tablet")?(jQuery(".show_form_preview").css("width","768px"),jQuery(".preview_canvas").addClass("preview_mobile"),jQuery(".show_form_preview").css("height","calc(100% - 50px)")):jQuery(this).hasClass("phone")&&(jQuery(".preview_canvas").addClass("preview_mobile"),jQuery(".show_form_preview").css("width","320px"),jQuery(".show_form_preview").css("height","568px"))}),jQuery(document).on("click",".canvas_background_tools .shade div",function(){jQuery('select.md_theme_shade_selection option[value="light"]').trigger("click"),jQuery("select.md_theme_shade_selection").trigger("change")}),update_select(".choose_form_theme"),update_select(".set_form_theme"),jQuery(document).on("change",".set_form_theme",function(){jQuery(this).attr("data-selected",jQuery(this).val())}),jQuery(document).on("click",".date #datetimepicker input",function(){jQuery(this).parent().find(".input-group-addon").trigger("click")}),jQuery(document).on("click",".time #datetimepicker input",function(){jQuery(this).parent().find(".input-group-addon").trigger("click")}),jQuery(document).on("change",'select[name="choose_form_theme"]',function(){jQuery(".html_fields").find(".ui-state-default").removeClass("ui-state-default"),jQuery(".html_fields").find(".ui-state-widget").removeClass("ui-state-widget"),jQuery(".html_fields").find(".ui-state-active").removeClass("ui-state-active")}),jQuery(document).on("change",'select[name="set_form_theme"]',function(){jQuery("label.radio-inline,  label.checkbox-inline").removeClass("ui-state-default"),jQuery(".field-settings-column.open_sidenav  #close-settings").trigger("click");var e=jQuery(this).val();jQuery(".outer-container").attr("class","outer-container"),jQuery(".nex_forms_admin_page_wrapper").attr("class","nex_forms_admin_page_wrapper"),"m_design"==e||"neumorphism"==e?(jQuery(".choose_form_theme").addClass("hidden"),jQuery(".md_theme_selection").removeClass("hidden"),jQuery("link.jquery_ui_theme").attr("href",""),jQuery(".ui-state-default").removeClass("ui-state-default"),jQuery(".ui-state-active").removeClass("ui-state-active"),jQuery(".ui-widget-content").removeClass("ui-widget-content"),jQuery(".ui-widget-header, .panel-heading").removeClass("ui-widget-header"),jQuery(".outer-container").attr("class","outer-container theme-"+jQuery(".md_theme_selection").attr("data-selected"))):("jquery_ui"==e&&setTimeout(function(){jQuery("label.radio-inline,  label.checkbox-inline").addClass("ui-state-default")},500),jQuery(".choose_form_theme").removeClass("hidden"),jQuery(".md_theme_selection").addClass("hidden"),jQuery(".outer-container").attr("class","outer-container"),jQuery(".choose_form_theme").trigger("change")),jQuery(".ui-nex-forms-container").removeClass("bootstrap").removeClass("m_design").removeClass("jq_ui").removeClass("jquery_ui").removeClass("browser").removeClass("neumorphism").addClass(e),jQuery(".ui-nex-forms-container").attr("data-form-theme",e),jQuery(".ui-nex-forms-container .form_field").each(function(){reset_field_theme(e,jQuery(this))}),jQuery(".inner-canvas-container .html_fields .the_input_element, .ui-nex-forms-container .input-group-addon .form-control, .ui-nex-forms-container .submit-button button, .ui-nex-forms-container .nex-step button, .ui-nex-forms-container .prev-step button").removeClass("form-control"),jQuery(".inner-canvas-container .html_fields .the_input_element, .ui-nex-forms-container .submit-button button, .ui-nex-forms-container .nex-step button, .ui-nex-forms-container .prev-step button").removeClass("ui-corner-all").removeClass("ui-widget")}),jQuery(document).on("blur","textarea, input",function(){jQuery(this).val()||jQuery(this).attr("placeholder")||jQuery(this).parent().find("#md_label").removeClass("active")}),jQuery(".tooltipped").tooltip({delay:50,position:"top",html:!0}),update_select(".md_theme_shade_selection"),update_select(".md_theme_selection"),jQuery(document).on("click","a.full-screen-btn",function(){jQuery(this).hasClass("fc")?(jQuery(".form-canvas-area").removeClass("fullscreen"),jQuery(this).find(".material-icons").addClass("fa-expand").removeClass("fa-compress"),jQuery(this).removeClass("fc")):(jQuery(".form-canvas-area").addClass("fullscreen"),jQuery(this).addClass("fc"),jQuery(this).find(".material-icons").removeClass("fa-expand").addClass("fa-compress"))}),jQuery(document).on("change",'select[name="md_theme_shade_selection"]',function(){}),jQuery(document).on("change",'select[name="md_theme_selection"]',function(){jQuery(".outer-container").attr("class","outer-container theme-"+jQuery(this).val()),jQuery("select.md_theme_selection option").each(function(){jQuery(".nex_forms_admin_page_wrapper").removeClass("theme-"+jQuery(this).attr("value"))}),jQuery(".nex_forms_admin_page_wrapper").addClass("theme-"+jQuery(this).val())}),jQuery(document).on("click",".field_selection_dropdown_menu",function(){jQuery(this).hasClass("active")?(jQuery(".form_canvas").removeClass("fields_opened"),jQuery(this).removeClass("active"),jQuery("ul#fields_dropdown").hide(),jQuery(this).find(".fa").removeClass("fa-chevron-up").addClass("fa-chevron-down")):(jQuery(".form_canvas").addClass("fields_opened"),jQuery(this).addClass("active"),jQuery("ul#fields_dropdown").fadeIn(),jQuery(this).find(".fa").removeClass("fa-chevron-down").addClass("fa-chevron-up"))}),jQuery("input").trigger("autoresize"),jQuery("textarea").trigger("autoresize"),jQuery(document).on("click",".tabs_nf .tab",function(){jQuery(".mce-flight_shortcodes").removeClass("is_opened")}),jQuery("div.updated").remove(),jQuery(".update-nag").remove(),jQuery("div.error").remove();var o="",l="";jQuery("head link").each(function(){l=jQuery(this),o=jQuery(this).attr("id"),jQuery(".unwanted_css_array .unwanted_css").each(function(){o&&o.trim()==jQuery(this).text()&&l.attr("href","")})}),jQuery("ul.tabs_nf").tabs_nf(),jQuery(".builder_nav li.tab a.active").removeClass("active").trigger("click"),jQuery(document).on("click",".builder_nav li.tab a.email_setup, .builder_nav li.tab a.integration",function(){setup_tags()}),jQuery(document).on("click",".builder_nav li.tab a.form_options",function(){setup_tags()}),0!=jQuery(".nex-forms-container .form_field.step").size()&&(jQuery("#ms-css-settings").show(),jQuery(".show_all_steps").show(),jQuery(".multi-step-stepping li").size()<1&&(nf_count_multi_steps(),setTimeout(function(){jQuery(".multi-step-tools ul li:eq(1) a").trigger("click")},200))),jQuery(".nex-forms-container .step .nex-step").each(function(){hide_step_back_next(jQuery(this))}),jQuery(".nex-forms-container .step .prev-step").each(function(){hide_step_back_next(jQuery(this))}),jQuery(".nex-forms-container .step .nex-submit").each(function(){hide_step_back_next(jQuery(this))}),jQuery(document).on("change",'select[name="ms_current_fields"]',function(){jQuery(this).attr("data-selected",jQuery(this).val())}),jQuery(document).on("change",'select[name="mailster_lists"]',function(){}),jQuery(document).on("change",'select[name="mp_current_fields"]',function(){jQuery(this).attr("data-selected",jQuery(this).val())}),jQuery(document).on("change",'select[name="mailpoet_lists"]',function(){}),jQuery(document).on("change",'select[name="mc_current_fields"]',function(){jQuery(this).attr("data-selected",jQuery(this).val())}),jQuery(document).on("change",'select[name="mail_chimp_lists"]',function(){jQuery(this).attr("data-selected",jQuery(this).val());var e={action:"reload_mc_form_fields",reload_mc_list:"true",form_Id:jQuery("#form_update_id").text(),mc_list_id:jQuery(this).val()};jQuery(".mc_field_map").html('<div class="loading">Loading <i class="fa fa-circle-o-notch fa-spin"></i></div>'),jQuery.post(ajaxurl,e,function(e){jQuery(".mc_field_map").html(e),set_mc_field_map()})}),jQuery(document).on("change",'select[name="gr_current_fields"]',function(){jQuery(this).attr("data-selected",jQuery(this).val())}),setTimeout(function(){jQuery(".form_field.slider").each(function(){jQuery(this).find("input.the_slider").trigger("change")})},100),jQuery(document).on("change","select",function(){jQuery(this).attr("data-selected",jQuery(this).val())}),jQuery(document).on("click",".builder_nav .tab a",function(){jQuery(this).attr("class")&&jQuery("#builder_view").removeClass("styling_view").addClass(jQuery(this).attr("class"))}),possible_email_fields(),jQuery(document).on("click","a.user_email_tab",function(){possible_email_fields(),update_select(".posible_email_fields")}),jQuery(document).on("click",".add_hidden_field",function(){var e=jQuery(".hidden_field_clone").clone();e.removeClass("hidden").removeClass("hidden_field_clone").addClass("hidden_field"),jQuery(".hidden_fields_setup .hidden_fields").append(e)}),jQuery(document).on("click",".remove_hidden_field",function(){jQuery(this).closest(".hidden_field").remove()}),jQuery(document).on("change",'select[name="set_hidden_field_value"]',function(){jQuery(this).closest(".input-group").find(".hidden_field_value").val(jQuery(this).closest(".input-group").find(".hidden_field_value").val()+""+jQuery(this).val()),jQuery(this).find("option").prop("selected",!1)}),jQuery(".hidden_onload").removeClass("hidden"),jQuery(".modal").modal({dismissible:!0,opacity:.8,inDuration:300,outDuration:200,startingTop:"4%",endingTop:"10%",ready:function(e,t){},complete:function(){}}),jQuery(document).on("click",".btn-fullscreen",function(){jQuery(".nex_forms_admin_page_wrapper").addClass("fullscreen"),jQuery(".nex_forms_admin_page_wrapper").addClass("fullscreen"),jQuery(".expand_fullscreen").hide(),jQuery(".colapse_fullscreen").show()}),jQuery(document).on("click",".btn-wordpress",function(){jQuery(".nex_forms_admin_page_wrapper").removeClass("fullscreen"),jQuery(".expand_fullscreen").show(),jQuery(".colapse_fullscreen").hide()}),jQuery(document).on("click",".create_new_form",function(){jQuery("#new_form_wizard").modal("open")}),jQuery(document).on("click",".preview-form",function(){jQuery(".btn.workspace.preview").trigger("click")}),jQuery(document).on("click",".refresh-preview ",function(){nf_save_nex_form("","preview","")}),jQuery(document).on("click",".field_settings .btn.delete",function(){nf_save_state("undo");var e=jQuery(this).closest(".form_field");e.hasClass("currently_editing")&&jQuery(".field-settings-column #close-settings").trigger("click"),e.remove(),nf_form_modified("field delete")}),jQuery(document).on("click",".step .zero-clipboard .btn.delete",function(){var t=jQuery(this).closest(".step").attr("data-step-num");jQuery(this).closest(".step").fadeOut("fast",function(){jQuery(this).remove();var e=jQuery(".nex-forms-container .form_field.step").size();0==e&&(jQuery("#ms-css-settings").hide(),jQuery(".bc-outer-container").hide(),jQuery(".show_all_steps").hide()),nf_reset_multi_steps(),nf_count_multi_steps(),jQuery("#timer_start").spinner("option","max",e),jQuery("#timer_end").spinner("option","max",e),1==t?jQuery("li.all_steps a").trigger("click"):jQuery(".show_all_steps li.all_steps").hasClass("current")||(jQuery(".nf_ms_breadcrumb ul li:eq("+(t-2)+") a").trigger("click"),jQuery(".multi-step-tools ul li:eq("+(t-1)+")").find("a").trigger("click"))})}),jQuery(document).on("click",".duplicate_field",function(){nf_save_state("undo");var e=jQuery(this).closest(".form_field"),t=nf_duplicate_field(e);t.insertAfter(e);var a,s=jQuery(".form_canvas .panel-body");e.hasClass("step")&&(nf_reset_multi_steps(),nf_count_multi_steps(),a=t.attr("data-step-num"),t.addClass("animated"),t.addClass("fadeInDown"),setTimeout(function(){t.removeClass("animated"),t.removeClass("fadeInDown"),t.removeClass("duplicated")},1e3),jQuery(".nf_ms_breadcrumb ul li:eq("+a+") a").trigger("click"),jQuery(".multi-step-tools ul li:eq("+a+")").find("a").trigger("click")),create_droppable(s),e.hasClass(".step")&&(nf_reset_multi_steps(),nf_count_multi_steps()),nf_form_modified("field duplicated")}),jQuery(document).on("click",".nf_ms_breadcrumb li",function(){var e=jQuery(this).find("a");jQuery(".multi-step-tools ul.multi-step-stepping li:eq("+(e.attr("data-show-step")-1)+") a").trigger("click")}),jQuery(document).on("mouseenter",".nf_ms_breadcrumb ul li",function(){jQuery(this).prev("li").addClass("over-current-prev"),jQuery(this).next("li").addClass("over-current-next")}),jQuery(document).on("mouseleave",".nf_ms_breadcrumb ul li",function(){jQuery(".nf_ms_breadcrumb li").removeClass("over-current-prev"),jQuery(".nf_ms_breadcrumb li").removeClass("over-current-next")}),jQuery(document).on("click",".multi-step-tools ul li a",function(){jQuery(".multi-step-tools ul li").removeClass("current"),jQuery(this).parent().addClass("current"),jQuery(".nex-forms-container .form_field.step").removeClass("active_step"),jQuery(".nf_ms_breadcrumb li").removeClass("current"),jQuery(".nf_ms_breadcrumb li").removeClass("visited"),jQuery(".nf_ms_breadcrumb li").removeClass("current-prev"),jQuery(".nf_ms_breadcrumb li").removeClass("current-next"),jQuery(".nf_ms_breadcrumb li:eq("+(jQuery(this).attr("data-show-step")-1)+")").addClass("current"),jQuery(".nf_ms_breadcrumb li:eq("+(jQuery(this).attr("data-show-step")-2)+")").addClass("current-prev"),jQuery(".nf_ms_breadcrumb li:eq("+jQuery(this).attr("data-show-step")+")").addClass("current-next");for(var e=parseInt(jQuery(this).attr("data-show-step"))-1;0<=e;e--)jQuery(".nf_ms_breadcrumb li:eq("+e+")").addClass("visited");jQuery(".nf_ms_breadcrumb li:eq("+(jQuery(this).attr("data-show-step")-1)+")").removeClass("visited"),jQuery(this).parent().hasClass("new_step")?jQuery(".multi-step-fields .form_field.step .draggable_object").first().trigger("click"):"all"!=jQuery(this).attr("data-show-step")?(jQuery(".nex-forms-container .step").hide(),jQuery(".nex-forms-container").removeClass("view_all_steps"),jQuery(".nex-forms-container .nf_multi_step_"+jQuery(this).attr("data-show-step")).show(),jQuery(".nex-forms-container .nf_multi_step_"+jQuery(this).attr("data-show-step")).addClass("active_step"),jQuery(".nex-forms-container .step").removeClass("step_close")):(jQuery(".nex-forms-container").addClass("view_all_steps"),jQuery(".nex-forms-container .step").show(),jQuery(".nex-forms-container .step").addClass("step_close"))}),jQuery(document).on("click",".save_nex_form",function(){nf_save_nex_form(0,1,jQuery(this)),jQuery(this).addClass("saving").html('<span class="fa fa-spin fa-refresh"></span>')}),jQuery(document).on("change",'input[name="form_post_action"]',function(){"ajax"==jQuery(this).val()?(jQuery(".submit_custom_options").addClass("hidden"),jQuery(".submit_ajax_options").removeClass("hidden"),"message"==jQuery('input[name="on_form_submission"]:checked').val()?(jQuery(".on_submit_redirect").addClass("hidden"),jQuery(".on_submit_show_message").removeClass("hidden")):(jQuery(".on_submit_redirect").removeClass("hidden"),jQuery(".on_submit_show_message").addClass("hidden"))):(jQuery(".on_submit_redirect").addClass("hidden"),jQuery(".on_submit_show_message").addClass("hidden"),jQuery(".submit_custom_options").removeClass("hidden"),jQuery(".submit_ajax_options").addClass("hidden"))}),jQuery(document).on("change",'input[name="on_form_submission"]',function(){"message"==jQuery(this).val()?(jQuery(".on_submit_redirect").addClass("hidden"),jQuery(".on_submit_show_message").removeClass("hidden")):(jQuery(".on_submit_redirect").removeClass("hidden"),jQuery(".on_submit_show_message").addClass("hidden"))}),jQuery(document).on("click",".paypal_product .input-group-addon",function(){jQuery(this).hasClass("is_label")||(jQuery(this).parent().find(".input-group-addon").removeClass("active"),jQuery(this).addClass("active"),jQuery(this).hasClass("static_value")?(jQuery(this).parent().hasClass("pp_product_quantity")&&jQuery(this).parent().find('input[name="set_quantity"]').val("static"),jQuery(this).parent().hasClass("pp_product_amount")&&jQuery(this).parent().find('input[name="set_amount"]').val("static"),jQuery(this).parent().find('input[type="text"]').removeClass("hidden"),jQuery(this).parent().find("select").addClass("hidden")):(jQuery(this).parent().hasClass("pp_product_quantity")&&jQuery(this).parent().find('input[name="set_quantity"]').val("map"),jQuery(this).parent().hasClass("pp_product_amount")&&jQuery(this).parent().find('input[name="set_amount"]').val("map"),jQuery(this).parent().find("select").removeClass("hidden"),jQuery(this).parent().find('input[type="text"]').addClass("hidden")))}),jQuery(document).on("click","#add_paypal_product",function(){var e=jQuery(".paypal_product_clone").clone();e.removeClass("hidden").removeClass("paypal_product_clone").addClass("paypal_product"),jQuery(".paypal_products").append(e),e.find(".product_number").text(jQuery(".paypal_products .paypal_product").size()),jQuery(".paypal_products").animate({scrollTop:jQuery(".paypal_product").height()*jQuery(".paypal_products .paypal_product").size()+200},500);var t='<option value="0" selected="selected">--- Map Field --</option>';t+='<optgroup label="Text Fields">',jQuery('div.nex-forms-container div.form_field input[type="text"]').each(function(){t+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),t+="</optgroup>",t+='<optgroup label="Radio Buttons">';var a="",s="";jQuery('div.nex-forms-container div.form_field input[type="radio"]').each(function(){(a=jQuery(this).attr("name"))!=s&&(t+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),s=a}),t+="</optgroup>";var r="",i="";t+='<optgroup label="Check Boxes">',jQuery('div.nex-forms-container div.form_field input[type="checkbox"]').each(function(){(r=jQuery(this).attr("name"))!=i&&(t+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"),i=r}),t+="</optgroup>",t+='<optgroup label="Selects">',jQuery("div.nex-forms-container div.form_field select").each(function(){t+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),t+="</optgroup>",t+='<optgroup label="Text Areas">',jQuery("div.nex-forms-container div.form_field textarea").each(function(){t+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),t+="</optgroup>",t+='<optgroup label="Hidden Fields">',jQuery('div.nex-forms-container div.form_field input[type="hidden"]').each(function(){t+='<option value="'+format_illegal_chars(jQuery(this).attr("name"))+'">'+jQuery(this).attr("name")+"</option>"}),t+="</optgroup>",e.find("select").html(t)}),jQuery(document).on("click",".remove_paypal_product",function(){jQuery(".remove_paypal_product").remove("btn-primary"),jQuery(this).closest(".paypal_product").remove(),jQuery(".paypal_products .paypal_product").each(function(e){jQuery(this).find(".product_number").text(e+1)})}),jQuery(".form_field.grid").each(function(){var e=jQuery(this).find(".panel-body");create_droppable(e)}),jQuery(".inner-canvas-container .form_field").each(function(e){jQuery(this).attr("data-settings-tabs")||setup_field_settings(jQuery(this)),setup_form_element(jQuery(this))}),jQuery(document).width()<1600&&jQuery(".btn-fullscreen").trigger("click"),"yes"==jQuery("#demo_site").text()&&new Tour({name:"test-page-tour-"+jQuery("#form_update_id").text(),template:"<div class='popover tour'><div class='popover-arrow'></div><h3 class='popover-title'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='btn btn-default tour-step-back' data-role='prev'><span class='fa fa-arrow-left'></span> PREV </button><button class='btn btn-default end-tour dismiss_tour' data-role='end'><span class='fa fa-thumbs-up'></span> OK, got it. </button></div><button class='end-tour' data-role='end'><span class='fa fa-close'></span></button></div>",steps:[{element:".view_test_page",title:"New Test Page Created",content:"<br>A front-end test page has been created just for you!<br><br> Click on this button after you created <strong>AND SAVED</strong> the form. You can test your form live with email submissions and everything. </br></br>Remember you can download the form you create here to import into your own site!",placement:"bottom"}]})});